{
  "code": "import lwg, { Admin, EventAdmin, PalyAudio, Setting, _SceneName } from \"../Lwg/Lwg\";\r\nimport { _Task } from \"../Lwg/_Task\";\r\nexport default class ADManager {\r\n    static ShowBanner() {\r\n        let p = new TJ.ADS.Param();\r\n        p.place = TJ.ADS.Place.BOTTOM | TJ.ADS.Place.CENTER;\r\n        TJ.ADS.Api.ShowBanner(p);\r\n    }\r\n    static CloseBanner() {\r\n        let p = new TJ.ADS.Param();\r\n        p.place = TJ.ADS.Place.BOTTOM | TJ.ADS.Place.CENTER;\r\n        TJ.ADS.Api.RemoveBanner(p);\r\n    }\r\n    static ShowNormal() {\r\n        TJ.API.AdService.ShowNormal(new TJ.API.AdService.Param());\r\n    }\r\n    static showNormal2() {\r\n        TJ.API.AdService.ShowNormal(new TJ.API.AdService.Param());\r\n    }\r\n    static ShowReward(rewardAction, CDTime = 500) {\r\n        if (Admin._platform.name == Admin._platform.tpye.WebTest || Admin._platform.name == Admin._platform.tpye.OPPOTest || Admin._platform.name == Admin._platform.tpye.Research) {\r\n            rewardAction();\r\n            return;\r\n        }\r\n        if (ADManager.CanShowCD) {\r\n            PalyAudio.stopMusic();\r\n            console.log(\"?????\");\r\n            let p = new TJ.ADS.Param();\r\n            p.extraAd = true;\r\n            let getReward = false;\r\n            p.cbi.Add(TJ.Define.Event.Reward, () => {\r\n                getReward = true;\r\n                PalyAudio.playMusic(PalyAudio.voiceUrl.bgm, 0, 1000);\r\n                if (rewardAction != null) {\r\n                    rewardAction();\r\n                    EventAdmin._notify(_Task._Event.adsTime);\r\n                }\r\n            });\r\n            p.cbi.Add(TJ.Define.Event.Close, () => {\r\n                if (!getReward) {\r\n                    PalyAudio.playMusic(PalyAudio.voiceUrl.bgm, 0, 1000);\r\n                    console.log('观看完整广告才能获取奖励哦！');\r\n                    Admin._openScene(_SceneName.AdsHint, null, () => {\r\n                        console.log(Admin._sceneControl['AdsHint']);\r\n                        Admin._sceneControl['AdsHint']['AdsHint'].setCallBack(rewardAction);\r\n                    });\r\n                }\r\n            });\r\n            p.cbi.Add(TJ.Define.Event.NoAds, () => {\r\n                PalyAudio.playMusic(PalyAudio.voiceUrl.bgm, 0, 1000);\r\n                lwg.Dialogue.createHint_Middle(\"暂时没有广告，过会儿再试试吧！\");\r\n            });\r\n            TJ.ADS.Api.ShowReward(p);\r\n            ADManager.CanShowCD = false;\r\n            setTimeout(() => {\r\n                ADManager.CanShowCD = true;\r\n            }, CDTime);\r\n        }\r\n        else {\r\n        }\r\n    }\r\n    static Event(param, value) {\r\n        console.log(\"Param:>\" + param + \"Value:>\" + value);\r\n        let p = new TJ.GSA.Param();\r\n        if (value == null) {\r\n            p.id = param;\r\n        }\r\n        else {\r\n            p.id = param + value;\r\n        }\r\n        console.log(p.id);\r\n        TJ.GSA.Api.Event(p);\r\n    }\r\n    static initShare() {\r\n        if (TJ.API.AppInfo.Channel() == TJ.Define.Channel.AppRt.WX_AppRt) {\r\n            this.wx.onShareAppMessage(() => {\r\n                return {\r\n                    title: this.shareContent,\r\n                    imageUrl: this.shareImgUrl,\r\n                    query: \"\"\r\n                };\r\n            });\r\n            this.wx.showShareMenu({\r\n                withShareTicket: true,\r\n                success: null,\r\n                fail: null,\r\n                complete: null\r\n            });\r\n        }\r\n    }\r\n    static lureShare() {\r\n        if (TJ.API.AppInfo.Channel() == TJ.Define.Channel.AppRt.WX_AppRt) {\r\n            this.wx.shareAppMessage({\r\n                title: this.shareContent,\r\n                imageUrl: this.shareImgUrl,\r\n                query: \"\"\r\n            });\r\n        }\r\n    }\r\n    static VibrateShort() {\r\n        if (!Setting._shake.switch) {\r\n            return;\r\n        }\r\n        TJ.API.Vibrate.Short();\r\n    }\r\n    static Vibratelong() {\r\n        if (!Setting._shake.switch) {\r\n            return;\r\n        }\r\n        TJ.API.Vibrate.Long();\r\n    }\r\n    static TAPoint(type, name) {\r\n        let p = new TJ.API.TA.Param();\r\n        p.id = name;\r\n        switch (type) {\r\n            case TaT.BtnShow:\r\n                TJ.API.TA.Event_Button_Show(p);\r\n                break;\r\n            case TaT.BtnClick:\r\n                TJ.API.TA.Event_Button_Click(p);\r\n                break;\r\n            case TaT.PageShow:\r\n                TJ.API.TA.Event_Page_Show(p);\r\n                break;\r\n            case TaT.PageEnter:\r\n                TJ.API.TA.Event_Page_Enter(p);\r\n                break;\r\n            case TaT.PageLeave:\r\n                TJ.API.TA.Event_Page_Leave(p);\r\n                break;\r\n            case TaT.LevelStart:\r\n                TJ.API.TA.Event_Level_Start(p);\r\n                console.log('本关开始打点');\r\n                break;\r\n            case TaT.LevelFail:\r\n                TJ.API.TA.Event_Level_Fail(p);\r\n                console.log('本关失败打点');\r\n                break;\r\n            case TaT.LevelFinish:\r\n                TJ.API.TA.Event_Level_Finish(p);\r\n                console.log('本关胜利打点');\r\n                break;\r\n        }\r\n    }\r\n}\r\nADManager.CanShowCD = true;\r\nADManager.wx = Laya.Browser.window.wx;\r\nADManager.shareImgUrl = \"http://image.tomatojoy.cn/6847506204006681a5d5fa0cd91ce408\";\r\nADManager.shareContent = \"涂鸦小画手\";\r\nexport var TaT;\r\n(function (TaT) {\r\n    TaT[TaT[\"BtnShow\"] = 0] = \"BtnShow\";\r\n    TaT[TaT[\"BtnClick\"] = 1] = \"BtnClick\";\r\n    TaT[TaT[\"PageShow\"] = 2] = \"PageShow\";\r\n    TaT[TaT[\"PageEnter\"] = 3] = \"PageEnter\";\r\n    TaT[TaT[\"PageLeave\"] = 4] = \"PageLeave\";\r\n    TaT[TaT[\"LevelStart\"] = 5] = \"LevelStart\";\r\n    TaT[TaT[\"LevelFinish\"] = 6] = \"LevelFinish\";\r\n    TaT[TaT[\"LevelFail\"] = 7] = \"LevelFail\";\r\n})(TaT || (TaT = {}));\r\n",
  "references": [
    "D:/Game/project/3DDressUp/Project_Laya2.9.0/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/Lwg.ts",
    "D:/Game/project/3DDressUp/Project_Laya2.9.0/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_Task.ts"
  ]
}
