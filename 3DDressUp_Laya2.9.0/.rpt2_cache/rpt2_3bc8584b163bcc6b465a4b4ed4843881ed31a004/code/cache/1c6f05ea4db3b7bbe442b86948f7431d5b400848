{
  "code": "import GameConfig from \"../../GameConfig\";\r\nexport var lwg;\r\n(function (lwg) {\r\n    let Pause;\r\n    (function (Pause) {\r\n        function _createBtnPause(parent) {\r\n            let sp;\r\n            Laya.loader.load('prefab/BtnPause.json', Laya.Handler.create(this, function (prefab) {\r\n                let _prefab = new Laya.Prefab();\r\n                _prefab.json = prefab;\r\n                sp = Laya.Pool.getItemByCreateFun('prefab', _prefab.create, _prefab);\r\n                parent.addChild(sp);\r\n                sp.pos(645, 167);\r\n                sp.zOrder = 0;\r\n                Pause.BtnPauseNode = sp;\r\n                Pause.BtnPauseNode.name = 'BtnPauseNode';\r\n                Click._on(Click._Effect.type.largen, sp, null, null, btnPauseUp, null);\r\n            }));\r\n        }\r\n        Pause._createBtnPause = _createBtnPause;\r\n        function btnPauseUp(event) {\r\n            event.stopPropagation();\r\n            event.currentTarget.scale(1, 1);\r\n            lwg.Admin._openScene('UIPause', null, null, null);\r\n        }\r\n        Pause.btnPauseUp = btnPauseUp;\r\n    })(Pause = lwg.Pause || (lwg.Pause = {}));\r\n    let Dialogue;\r\n    (function (Dialogue) {\r\n        let Skin;\r\n        (function (Skin) {\r\n            Skin[\"blackBord\"] = \"Frame/UI/ui_orthogon_black.png\";\r\n        })(Skin || (Skin = {}));\r\n        function createHint_Middle(describe) {\r\n            let Hint_M = Laya.Pool.getItemByClass('Hint_M', Laya.Sprite);\r\n            Hint_M.name = 'Hint_M';\r\n            Laya.stage.addChild(Hint_M);\r\n            Hint_M.width = Laya.stage.width;\r\n            Hint_M.height = 100;\r\n            Hint_M.pivotY = Hint_M.height / 2;\r\n            Hint_M.pivotX = Laya.stage.width / 2;\r\n            Hint_M.x = Laya.stage.width / 2;\r\n            Hint_M.y = Laya.stage.height / 2;\r\n            Hint_M.zOrder = 100;\r\n            let Pic = new Laya.Image();\r\n            Hint_M.addChild(Pic);\r\n            Pic.skin = Skin.blackBord;\r\n            Pic.width = Laya.stage.width;\r\n            Pic.pivotX = Laya.stage.width / 2;\r\n            Pic.height = 100;\r\n            Pic.pivotY = Pic.height / 2;\r\n            Pic.y = Hint_M.height / 2;\r\n            Pic.x = Laya.stage.width / 2;\r\n            Pic.alpha = 0.6;\r\n            let Dec = new Laya.Label();\r\n            Hint_M.addChild(Dec);\r\n            Dec.width = Laya.stage.width;\r\n            Dec.text = describe;\r\n            Dec.pivotX = Laya.stage.width / 2;\r\n            Dec.x = Laya.stage.width / 2;\r\n            Dec.height = 100;\r\n            Dec.pivotY = 50;\r\n            Dec.y = Hint_M.height / 2;\r\n            Dec.bold = true;\r\n            Dec.fontSize = 35;\r\n            Dec.color = '#ffffff';\r\n            Dec.align = 'center';\r\n            Dec.valign = 'middle';\r\n            Dec.alpha = 0;\r\n            Animation2D.scale_Alpha(Hint_M, 0, 1, 0, 1, 1, 1, 200, 0, f => {\r\n                Animation2D.fadeOut(Dec, 0, 1, 150, 0, f => {\r\n                    Animation2D.fadeOut(Dec, 1, 0, 200, 800, f => {\r\n                        Animation2D.scale_Alpha(Hint_M, 1, 1, 1, 1, 0, 0, 200, 0, f => {\r\n                            Hint_M.removeSelf();\r\n                        });\r\n                    });\r\n                });\r\n            });\r\n        }\r\n        Dialogue.createHint_Middle = createHint_Middle;\r\n        Dialogue._dialogContent = {\r\n            get Array() {\r\n                return Laya.loader.getRes(\"GameData/Dialogue/Dialogue.json\")['RECORDS'] !== null ? Laya.loader.getRes(\"GameData/Dialogue/Dialogue.json\")['RECORDS'] : [];\r\n            },\r\n        };\r\n        function getDialogContent(useWhere, name) {\r\n            let dia;\r\n            for (let index = 0; index < Dialogue._dialogContent.Array.length; index++) {\r\n                const element = Dialogue._dialogContent.Array[index];\r\n                if (element['useWhere'] == useWhere && element['name'] == name) {\r\n                    dia = element;\r\n                    break;\r\n                }\r\n            }\r\n            let arr = [];\r\n            for (const key in dia) {\r\n                if (dia.hasOwnProperty(key)) {\r\n                    const value = dia[key];\r\n                    if (key.substring(0, 7) == 'content' || value !== -1) {\r\n                        arr.push(value);\r\n                    }\r\n                }\r\n            }\r\n            return arr;\r\n        }\r\n        Dialogue.getDialogContent = getDialogContent;\r\n        function getDialogContent_Random(useWhere) {\r\n            let contentArr = [];\r\n            let whereArr = getUseWhere(useWhere);\r\n            let index = Math.floor(Math.random() * whereArr.length);\r\n            for (const key in whereArr[index]) {\r\n                if (whereArr[index].hasOwnProperty(key)) {\r\n                    const value = whereArr[index][key];\r\n                    if (key.substring(0, 7) == 'content' && value !== \"-1\") {\r\n                        contentArr.push(value);\r\n                    }\r\n                }\r\n            }\r\n            return contentArr;\r\n        }\r\n        Dialogue.getDialogContent_Random = getDialogContent_Random;\r\n        function getUseWhere(useWhere) {\r\n            let arr = [];\r\n            for (let index = 0; index < Dialogue._dialogContent.Array.length; index++) {\r\n                const element = Dialogue._dialogContent.Array[index];\r\n                if (element['useWhere'] == useWhere) {\r\n                    arr.push(element);\r\n                }\r\n            }\r\n            return arr;\r\n        }\r\n        Dialogue.getUseWhere = getUseWhere;\r\n        let UseWhere;\r\n        (function (UseWhere) {\r\n            UseWhere[\"scene1\"] = \"scene1\";\r\n            UseWhere[\"scene2\"] = \"scene2\";\r\n            UseWhere[\"scene3\"] = \"scene3\";\r\n        })(UseWhere = Dialogue.UseWhere || (Dialogue.UseWhere = {}));\r\n        let DialogProperty;\r\n        (function (DialogProperty) {\r\n            DialogProperty[\"name\"] = \"name\";\r\n            DialogProperty[\"useWhere\"] = \"useWhere\";\r\n            DialogProperty[\"content\"] = \"content\";\r\n            DialogProperty[\"max\"] = \"max\";\r\n        })(DialogProperty = Dialogue.DialogProperty || (Dialogue.DialogProperty = {}));\r\n        let PlayMode;\r\n        (function (PlayMode) {\r\n            PlayMode[\"voluntarily\"] = \"voluntarily\";\r\n            PlayMode[\"manual\"] = \"manual\";\r\n            PlayMode[\"clickContent\"] = \"clickContent\";\r\n        })(PlayMode = Dialogue.PlayMode || (Dialogue.PlayMode = {}));\r\n        function createVoluntarilyDialogue(x, y, useWhere, startDelayed, delayed, parent, content) {\r\n            if (startDelayed == undefined) {\r\n                startDelayed = 0;\r\n            }\r\n            Laya.timer.once(startDelayed, this, () => {\r\n                let Pre_Dialogue;\r\n                Laya.loader.load('Prefab/Dialogue_Common.json', Laya.Handler.create(this, function (prefab) {\r\n                    let _prefab = new Laya.Prefab();\r\n                    _prefab.json = prefab;\r\n                    Pre_Dialogue = Laya.Pool.getItemByCreateFun('Pre_Dialogue', _prefab.create, _prefab);\r\n                    if (parent) {\r\n                        parent.addChild(Pre_Dialogue);\r\n                    }\r\n                    else {\r\n                        Laya.stage.addChild(Pre_Dialogue);\r\n                    }\r\n                    Pre_Dialogue.x = x;\r\n                    Pre_Dialogue.y = y;\r\n                    let ContentLabel = Pre_Dialogue.getChildByName('Content');\r\n                    let contentArr;\r\n                    if (content !== undefined) {\r\n                        ContentLabel.text = content[0];\r\n                    }\r\n                    else {\r\n                        contentArr = getDialogContent_Random(useWhere);\r\n                        ContentLabel.text = contentArr[0];\r\n                    }\r\n                    Pre_Dialogue.zOrder = 100;\r\n                    if (delayed == undefined) {\r\n                        delayed = 1000;\r\n                    }\r\n                    Animation2D.scale_Alpha(Pre_Dialogue, 0, 0, 0, 1, 1, 1, 150, 1000, () => {\r\n                        for (let index = 0; index < contentArr.length; index++) {\r\n                            Laya.timer.once(index * delayed, this, () => {\r\n                                ContentLabel.text = contentArr[index];\r\n                                if (index == contentArr.length - 1) {\r\n                                    Laya.timer.once(delayed, this, () => {\r\n                                        Animation2D.scale_Alpha(Pre_Dialogue, 1, 1, 1, 0, 0, 0, 150, 1000, () => {\r\n                                            Pre_Dialogue.removeSelf();\r\n                                        });\r\n                                    });\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n                    Dialogue.DialogueNode = Pre_Dialogue;\r\n                }));\r\n            });\r\n        }\r\n        Dialogue.createVoluntarilyDialogue = createVoluntarilyDialogue;\r\n        function createCommonDialog(parent, x, y, content) {\r\n            let Dialogue_Common;\r\n            Laya.loader.load('Prefab/Dialogue_Common.json', Laya.Handler.create(this, function (prefab) {\r\n                let _prefab = new Laya.Prefab();\r\n                _prefab.json = prefab;\r\n                Dialogue_Common = Laya.Pool.getItemByCreateFun('Dialogue_Common', _prefab.create, _prefab);\r\n                parent.addChild(Dialogue_Common);\r\n                Dialogue_Common.pos(x, y);\r\n                let Content = Dialogue_Common.getChildByName('Dialogue_Common');\r\n                Content.text = content;\r\n            }));\r\n        }\r\n        Dialogue.createCommonDialog = createCommonDialog;\r\n    })(Dialogue = lwg.Dialogue || (lwg.Dialogue = {}));\r\n    let Execution;\r\n    (function (Execution) {\r\n        Execution._execution = {\r\n            get value() {\r\n                return Laya.LocalStorage.getItem('_execution') ? Number(Laya.LocalStorage.getItem('_execution')) : 15;\r\n            },\r\n            set value(val) {\r\n                Laya.LocalStorage.setItem('_execution', val.toString());\r\n            }\r\n        };\r\n        function _createExecutionNum(parent) {\r\n            let sp;\r\n            Laya.loader.load('prefab/ExecutionNum.json', Laya.Handler.create(this, function (prefab) {\r\n                let _prefab = new Laya.Prefab();\r\n                _prefab.json = prefab;\r\n                sp = Laya.Pool.getItemByCreateFun('prefab', _prefab.create, _prefab);\r\n                parent.addChild(sp);\r\n                let num = sp.getChildByName('Num');\r\n                sp.pos(297, 90);\r\n                sp.zOrder = 50;\r\n                Execution.ExecutionNumNode = sp;\r\n                Execution.ExecutionNumNode.name = 'ExecutionNumNode';\r\n            }));\r\n        }\r\n        Execution._createExecutionNum = _createExecutionNum;\r\n        function _createAddExecution(x, y, func) {\r\n            let sp;\r\n            Laya.loader.load('prefab/execution.json', Laya.Handler.create(this, function (prefab) {\r\n                let _prefab = new Laya.Prefab();\r\n                _prefab.json = prefab;\r\n                sp = Laya.Pool.getItemByCreateFun('prefab', _prefab.create, _prefab);\r\n                Laya.stage.addChild(sp);\r\n                sp.x = Laya.stage.width / 2;\r\n                sp.y = Laya.stage.height / 2;\r\n                sp.zOrder = 50;\r\n                if (Execution.ExecutionNumNode) {\r\n                    Animation2D.move_Simple(sp, sp.x, sp.y, Execution.ExecutionNumNode.x, Execution.ExecutionNumNode.y, 800, 100, f => {\r\n                        Animation2D.fadeOut(sp, 1, 0, 200, 0, f => {\r\n                            lwg.Animation2D.upDwon_Shake(Execution.ExecutionNumNode, 10, 80, 0, null);\r\n                            if (func) {\r\n                                func();\r\n                            }\r\n                        });\r\n                    }, Laya.Ease.expoIn);\r\n                }\r\n            }));\r\n        }\r\n        Execution._createAddExecution = _createAddExecution;\r\n        function createConsumeEx(subEx) {\r\n            let label = Laya.Pool.getItemByClass('label', Laya.Label);\r\n            label.name = 'label';\r\n            Laya.stage.addChild(label);\r\n            label.text = '-2';\r\n            label.fontSize = 40;\r\n            label.bold = true;\r\n            label.color = '#59245c';\r\n            label.x = Execution.ExecutionNumNode.x + 100;\r\n            label.y = Execution.ExecutionNumNode.y - label.height / 2 + 4;\r\n            label.zOrder = 100;\r\n            lwg.Animation2D.fadeOut(label, 0, 1, 200, 150, f => {\r\n                lwg.Animation2D.leftRight_Shake(Execution.ExecutionNumNode, 15, 60, 0, null);\r\n                lwg.Animation2D.fadeOut(label, 1, 0, 600, 400, f => {\r\n                });\r\n            });\r\n        }\r\n        Execution.createConsumeEx = createConsumeEx;\r\n    })(Execution = lwg.Execution || (lwg.Execution = {}));\r\n    let Gold;\r\n    (function (Gold_1) {\r\n        Gold_1._num = {\r\n            get value() {\r\n                return Laya.LocalStorage.getItem('_goldNum') ? Number(Laya.LocalStorage.getItem('_goldNum')) : 0;\r\n            },\r\n            set value(val) {\r\n                Laya.LocalStorage.setItem('_goldNum', val.toString());\r\n            }\r\n        };\r\n        function createGoldNode(x, y, parent) {\r\n            if (!parent) {\r\n                parent = Laya.stage;\r\n            }\r\n            if (Gold_1.GoldNode) {\r\n                Gold_1.GoldNode.removeSelf();\r\n            }\r\n            let sp;\r\n            Laya.loader.load('Prefab/LwgGold.json', Laya.Handler.create(this, function (prefab) {\r\n                let _prefab = new Laya.Prefab();\r\n                _prefab.json = prefab;\r\n                sp = Laya.Pool.getItemByCreateFun('gold', _prefab.create, _prefab);\r\n                let Num = sp.getChildByName('Num');\r\n                Num.text = Tools.format_FormatNumber(Gold_1._num.value);\r\n                parent.addChild(sp);\r\n                sp.pos(x, y);\r\n                sp.zOrder = 100;\r\n                Gold_1.GoldNode = sp;\r\n            }));\r\n        }\r\n        Gold_1.createGoldNode = createGoldNode;\r\n        function _addGold(number) {\r\n            Gold_1._num.value += Number(number);\r\n            let Num = Gold_1.GoldNode.getChildByName('Num');\r\n            Num.text = Tools.format_FormatNumber(Gold_1._num.value);\r\n        }\r\n        Gold_1._addGold = _addGold;\r\n        function addGoldDisPlay(number) {\r\n            let Num = Gold_1.GoldNode.getChildByName('Num');\r\n            Num.value = (Number(Num.value) + Number(number)).toString();\r\n        }\r\n        Gold_1.addGoldDisPlay = addGoldDisPlay;\r\n        function addGoldNoDisPlay(number) {\r\n            Gold_1._num.value += Number(number);\r\n        }\r\n        Gold_1.addGoldNoDisPlay = addGoldNoDisPlay;\r\n        function goldAppear(delayed, x, y) {\r\n            if (!Gold_1.GoldNode) {\r\n                return;\r\n            }\r\n            if (delayed) {\r\n                Animation2D.scale_Alpha(Gold_1.GoldNode, 0, 1, 1, 1, 1, 1, delayed, 0, f => {\r\n                    Gold_1.GoldNode.visible = true;\r\n                });\r\n            }\r\n            else {\r\n                Gold_1.GoldNode.visible = true;\r\n            }\r\n            if (x) {\r\n                Gold_1.GoldNode.x = x;\r\n            }\r\n            if (y) {\r\n                Gold_1.GoldNode.y = y;\r\n            }\r\n        }\r\n        Gold_1.goldAppear = goldAppear;\r\n        function goldVinish(delayed) {\r\n            if (!Gold_1.GoldNode) {\r\n                return;\r\n            }\r\n            if (delayed) {\r\n                Animation2D.scale_Alpha(Gold_1.GoldNode, 1, 1, 1, 1, 1, 0, delayed, 0, f => {\r\n                    Gold_1.GoldNode.visible = false;\r\n                });\r\n            }\r\n            else {\r\n                Gold_1.GoldNode.visible = false;\r\n            }\r\n        }\r\n        Gold_1.goldVinish = goldVinish;\r\n        let SkinUrl;\r\n        (function (SkinUrl) {\r\n            SkinUrl[SkinUrl[\"Frame/Effects/icon_gold.png\"] = 0] = \"Frame/Effects/icon_gold.png\";\r\n        })(SkinUrl || (SkinUrl = {}));\r\n        function createOneGold(width, height, url) {\r\n            let Gold = Laya.Pool.getItemByClass('addGold', Laya.Image);\r\n            Gold.name = 'addGold';\r\n            let num = Math.floor(Math.random() * 12);\r\n            Gold.alpha = 1;\r\n            Gold.zOrder = 60;\r\n            Gold.width = width;\r\n            Gold.height = height;\r\n            Gold.pivotX = width / 2;\r\n            Gold.pivotY = height / 2;\r\n            if (!url) {\r\n                Gold.skin = SkinUrl[0];\r\n            }\r\n            else {\r\n                Gold.skin = url;\r\n            }\r\n            if (Gold_1.GoldNode) {\r\n                Gold.zOrder = Gold_1.GoldNode.zOrder + 10;\r\n            }\r\n            return Gold;\r\n        }\r\n        Gold_1.createOneGold = createOneGold;\r\n        function getGoldAni_Single(parent, number, width, height, url, firstPoint, targetPoint, func1, func2) {\r\n            for (let index = 0; index < number; index++) {\r\n                Laya.timer.once(index * 30, this, () => {\r\n                    let Gold = createOneGold(width, height, url);\r\n                    parent.addChild(Gold);\r\n                    Animation2D.move_Scale(Gold, 1, firstPoint.x, firstPoint.y, targetPoint.x, targetPoint.y, 1, 350, 0, null, () => {\r\n                        PalyAudio.playSound(PalyAudio.voiceUrl.huodejinbi);\r\n                        if (index === number - 1) {\r\n                            Laya.timer.once(200, this, () => {\r\n                                if (func2) {\r\n                                    func2();\r\n                                }\r\n                            });\r\n                        }\r\n                        else {\r\n                            if (func1) {\r\n                                func1();\r\n                            }\r\n                        }\r\n                        Gold.removeSelf();\r\n                    });\r\n                });\r\n            }\r\n        }\r\n        Gold_1.getGoldAni_Single = getGoldAni_Single;\r\n        function _getGoldAni_Heap(parent, number, width, height, url, firstPoint, targetPoint, func1, func2) {\r\n            for (let index = 0; index < number; index++) {\r\n                let Gold = createOneGold(width ? width : 100, height ? height : 100, url ? url : SkinUrl[0]);\r\n                parent = parent ? parent : Laya.stage;\r\n                parent.addChild(Gold);\r\n                firstPoint = firstPoint ? firstPoint : new Laya.Point(Laya.stage.width / 2, Laya.stage.height / 2);\r\n                targetPoint = targetPoint ? targetPoint : new Laya.Point(Gold_1.GoldNode.x, Gold_1.GoldNode.y);\r\n                let x = Math.floor(Math.random() * 2) == 1 ? firstPoint.x + Math.random() * 100 : firstPoint.x - Math.random() * 100;\r\n                let y = Math.floor(Math.random() * 2) == 1 ? firstPoint.y + Math.random() * 100 : firstPoint.y - Math.random() * 100;\r\n                Animation2D.move_Scale(Gold, 0.5, firstPoint.x, firstPoint.y, x, y, 1, 300, Math.random() * 100 + 100, Laya.Ease.expoIn, () => {\r\n                    Animation2D.move_Scale(Gold, 1, Gold.x, Gold.y, targetPoint.x, targetPoint.y, 1, 400, Math.random() * 200 + 100, Laya.Ease.cubicOut, () => {\r\n                        PalyAudio.playSound(PalyAudio.voiceUrl.huodejinbi);\r\n                        if (index === number - 1) {\r\n                            Laya.timer.once(200, this, () => {\r\n                                if (func2) {\r\n                                    func2();\r\n                                }\r\n                            });\r\n                        }\r\n                        else {\r\n                            if (func1) {\r\n                                func1();\r\n                            }\r\n                        }\r\n                        Gold.removeSelf();\r\n                    });\r\n                });\r\n            }\r\n        }\r\n        Gold_1._getGoldAni_Heap = _getGoldAni_Heap;\r\n        class GoldAniBase extends Laya.Script {\r\n            onAwake() {\r\n                this.initProperty();\r\n            }\r\n            onEnable() {\r\n                this._Owner = this.owner;\r\n                this.selfScene = this._Owner.scene;\r\n                let _calssName = this['__proto__']['constructor'].name;\r\n                this._Owner[_calssName] = this;\r\n                this.timer = 0;\r\n                this.lwgInit();\r\n                this.propertyAssign();\r\n            }\r\n            lwgInit() {\r\n            }\r\n            initProperty() {\r\n            }\r\n            propertyAssign() {\r\n                if (this.startAlpha) {\r\n                    this._Owner.alpha = this.startAlpha;\r\n                }\r\n                if (this.startScale) {\r\n                    this._Owner.scale(this.startScale, this.startScale);\r\n                }\r\n                if (this.startRotat) {\r\n                    this._Owner.rotation = this.startRotat;\r\n                }\r\n            }\r\n            commonSpeedXYByAngle(angle, speed) {\r\n                this._Owner.x += Tools.Point.SpeedXYByAngle(angle, speed + this.accelerated).x;\r\n                this._Owner.y += Tools.Point.SpeedXYByAngle(angle, speed + this.accelerated).y;\r\n            }\r\n            moveRules() {\r\n            }\r\n            onUpdate() {\r\n                this.moveRules();\r\n            }\r\n            onDisable() {\r\n                Laya.Pool.recover(this._Owner.name, this._Owner);\r\n                this.destroy();\r\n                Laya.Tween.clearAll(this);\r\n                Laya.timer.clearAll(this);\r\n            }\r\n        }\r\n        Gold_1.GoldAniBase = GoldAniBase;\r\n        class AddGold extends GoldAniBase {\r\n            lwgInit() {\r\n                this._Owner.width = 115;\r\n                this._Owner.height = 111;\r\n                this._Owner.pivotX = this._Owner.width / 2;\r\n                this._Owner.pivotY = this._Owner.height / 2;\r\n            }\r\n            initProperty() {\r\n            }\r\n            moveRules() {\r\n                if (this.moveSwitch) {\r\n                    this.timer++;\r\n                    if (this.timer > 0) {\r\n                        lwg.Animation2D.move_Scale(this._Owner, 1, this._Owner.x, this._Owner.y, this.targetX, this.targetY, 0.35, 250, 0, f => {\r\n                            this._Owner.removeSelf();\r\n                            if (this.func !== null) {\r\n                                this.func();\r\n                            }\r\n                        });\r\n                        this.moveSwitch = false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        Gold_1.AddGold = AddGold;\r\n    })(Gold = lwg.Gold || (lwg.Gold = {}));\r\n    let EventAdmin;\r\n    (function (EventAdmin) {\r\n        EventAdmin.dispatcher = new Laya.EventDispatcher();\r\n        function _register(type, caller, listener) {\r\n            if (!caller) {\r\n                console.error(\"事件的执行域必须存在!\");\r\n            }\r\n            EventAdmin.dispatcher.on(type.toString(), caller, listener);\r\n        }\r\n        EventAdmin._register = _register;\r\n        function _registerOnce(type, caller, listener) {\r\n            if (!caller) {\r\n                console.error(\"事件的执行域必须存在!\");\r\n            }\r\n            EventAdmin.dispatcher.once(type.toString(), caller, listener);\r\n        }\r\n        EventAdmin._registerOnce = _registerOnce;\r\n        function _notify(type, args) {\r\n            EventAdmin.dispatcher.event(type.toString(), args);\r\n        }\r\n        EventAdmin._notify = _notify;\r\n        function _off(type, caller, listener) {\r\n            EventAdmin.dispatcher.off(type.toString(), caller, listener);\r\n        }\r\n        EventAdmin._off = _off;\r\n        function _offAll(type) {\r\n            EventAdmin.dispatcher.offAll(type.toString());\r\n        }\r\n        EventAdmin._offAll = _offAll;\r\n        function _offCaller(caller) {\r\n            EventAdmin.dispatcher.offAllCaller(caller);\r\n        }\r\n        EventAdmin._offCaller = _offCaller;\r\n    })(EventAdmin = lwg.EventAdmin || (lwg.EventAdmin = {}));\r\n    let DateAdmin;\r\n    (function (DateAdmin) {\r\n        DateAdmin._date = {\r\n            get year() {\r\n                return (new Date()).getFullYear();\r\n            },\r\n            get month() {\r\n                return (new Date()).getMonth();\r\n            },\r\n            get date() {\r\n                return (new Date()).getDate();\r\n            },\r\n            get day() {\r\n                return (new Date()).getDay();\r\n            },\r\n            get hours() {\r\n                return (new Date()).getHours();\r\n            },\r\n            get minutes() {\r\n                return (new Date()).getMinutes();\r\n            },\r\n            get seconds() {\r\n                return (new Date()).getSeconds();\r\n            },\r\n            get milliseconds() {\r\n                return (new Date()).getMilliseconds();\r\n            },\r\n            get toLocaleDateString() {\r\n                return (new Date()).toLocaleDateString();\r\n            },\r\n            get toLocaleTimeString() {\r\n                return (new Date()).toLocaleTimeString();\r\n            }\r\n        };\r\n        DateAdmin._loginDate = {\r\n            get value() {\r\n                let data;\r\n                let dataArr = [];\r\n                let d = new Date();\r\n                let date1 = [d.getFullYear(), d.getMonth() + 1, d.getDate(), d.getDay()];\r\n                try {\r\n                    data = Laya.LocalStorage.getJSON('DateAdmin_loginDate');\r\n                    let dataArr = [];\r\n                    dataArr = JSON.parse(data);\r\n                    let equal = false;\r\n                    for (let index = 0; index < dataArr.length; index++) {\r\n                        if (dataArr[index].toString() == date1.toString()) {\r\n                            equal = true;\r\n                        }\r\n                    }\r\n                    if (!equal) {\r\n                        dataArr.push(date1);\r\n                    }\r\n                }\r\n                catch (error) {\r\n                    if (dataArr.length == 0) {\r\n                        dataArr.push(date1);\r\n                    }\r\n                }\r\n                Laya.LocalStorage.setJSON('DateAdmin_loginDate', JSON.stringify(dataArr));\r\n                return dataArr;\r\n            },\r\n        };\r\n        DateAdmin._loginNumber = {\r\n            get value() {\r\n                return Laya.LocalStorage.getItem('DateAdmin_loginNumber') ? Number(Laya.LocalStorage.getItem('DateAdmin_loginNumber')) : 1;\r\n            },\r\n            set value(val) {\r\n                Laya.LocalStorage.setItem('DateAdmin_loginNumber', val.toString());\r\n            }\r\n        };\r\n        DateAdmin._last = {\r\n            get date() {\r\n                return Laya.LocalStorage.getItem('DateAdmin_last') ? Number(Laya.LocalStorage.getItem('DateAdmin_last')) : DateAdmin._date.date;\r\n            },\r\n            setLastDate() {\r\n                Laya.LocalStorage.setItem('DateAdmin_last', DateAdmin._date.date.toString());\r\n            }\r\n        };\r\n    })(DateAdmin = lwg.DateAdmin || (lwg.DateAdmin = {}));\r\n    let TimerAdmin;\r\n    (function (TimerAdmin) {\r\n        function _frameLoop(delay, caller, method, immediately, args, coverBefore) {\r\n            if (immediately) {\r\n                method();\r\n            }\r\n            Laya.timer.frameLoop(delay, caller, () => {\r\n                method();\r\n            }, args, coverBefore);\r\n        }\r\n        TimerAdmin._frameLoop = _frameLoop;\r\n        function _frameRandomLoop(delay1, delay2, caller, method, immediately, args, coverBefore) {\r\n            if (immediately) {\r\n                method();\r\n            }\r\n            var func = () => {\r\n                let delay = Tools.randomOneInt(delay1, delay2);\r\n                Laya.timer.frameOnce(delay, caller, () => {\r\n                    method();\r\n                    func();\r\n                }, args, coverBefore);\r\n            };\r\n            func();\r\n        }\r\n        TimerAdmin._frameRandomLoop = _frameRandomLoop;\r\n        function _frameNumLoop(delay, num, caller, method, immediately, args, coverBefore) {\r\n            if (immediately) {\r\n                method();\r\n            }\r\n            let num0 = 0;\r\n            var func = () => {\r\n                num0++;\r\n                if (num0 > num) {\r\n                    Laya.timer.clear(caller, func);\r\n                }\r\n                else {\r\n                    method();\r\n                }\r\n            };\r\n            Laya.timer.frameLoop(delay, caller, func, args, coverBefore);\r\n        }\r\n        TimerAdmin._frameNumLoop = _frameNumLoop;\r\n        function _frameOnce(delay, caller, afterMethod, beforeMethod, args, coverBefore) {\r\n            if (beforeMethod) {\r\n                beforeMethod();\r\n            }\r\n            Laya.timer.frameOnce(delay, caller, () => {\r\n                afterMethod();\r\n            }, args, coverBefore);\r\n        }\r\n        TimerAdmin._frameOnce = _frameOnce;\r\n        function _loop(delay, caller, method, immediately, args, coverBefore) {\r\n            if (immediately) {\r\n                method();\r\n            }\r\n            Laya.timer.loop(delay, caller, () => {\r\n                method();\r\n            }, args, coverBefore);\r\n        }\r\n        TimerAdmin._loop = _loop;\r\n        function _randomLoop(delay1, delay2, caller, method, immediately, args, coverBefore) {\r\n            if (immediately) {\r\n                method();\r\n            }\r\n            var func = () => {\r\n                let delay = Tools.randomOneInt(delay1, delay2);\r\n                Laya.timer.once(delay, caller, () => {\r\n                    method();\r\n                    func();\r\n                }, args, coverBefore);\r\n            };\r\n            func();\r\n        }\r\n        TimerAdmin._randomLoop = _randomLoop;\r\n        function _numLoop(delay, num, caller, method, immediately, args, coverBefore) {\r\n            if (immediately) {\r\n                method();\r\n            }\r\n            let num0 = 0;\r\n            var func = () => {\r\n                num0++;\r\n                if (num0 > num) {\r\n                    Laya.timer.clear(caller, func);\r\n                }\r\n                else {\r\n                    method();\r\n                }\r\n            };\r\n            Laya.timer.loop(delay, caller, func, args, coverBefore);\r\n        }\r\n        TimerAdmin._numLoop = _numLoop;\r\n        function _once(delay, afterMethod, beforeMethod, args, coverBefore) {\r\n            if (beforeMethod) {\r\n                beforeMethod();\r\n            }\r\n            let caller = {};\r\n            Laya.timer.once(delay, caller, () => {\r\n                afterMethod();\r\n            }, args, coverBefore);\r\n        }\r\n        TimerAdmin._once = _once;\r\n    })(TimerAdmin = lwg.TimerAdmin || (lwg.TimerAdmin = {}));\r\n    let Admin;\r\n    (function (Admin) {\r\n        Admin._platform = {\r\n            tpye: {\r\n                Bytedance: 'Bytedance',\r\n                WeChat: 'WeChat',\r\n                OPPO: 'OPPO',\r\n                OPPOTest: 'OPPOTest',\r\n                VIVO: 'VIVO',\r\n                General: 'General',\r\n                Web: 'Web',\r\n                WebTest: 'WebTest',\r\n                Research: 'Research',\r\n            },\r\n            get ues() {\r\n                return this['_platform_name'] ? this['_platform_name'] : null;\r\n            },\r\n            set ues(val) {\r\n                this['_platform_name'] = val;\r\n                switch (val) {\r\n                    case Admin._platform.tpye.WebTest:\r\n                        Laya.LocalStorage.clear();\r\n                        _Gold._num.value = 5000;\r\n                        break;\r\n                    case Admin._platform.tpye.Research:\r\n                        Laya.Stat.show();\r\n                        _Gold._num.value = 50000000000000;\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        };\r\n        Admin._game = {\r\n            switch: true,\r\n            get level() {\r\n                return Laya.LocalStorage.getItem('_gameLevel') ? Number(Laya.LocalStorage.getItem('_gameLevel')) : 1;\r\n            },\r\n            set level(val) {\r\n                let diff = val - this.level;\r\n                if (diff > 0) {\r\n                    this.maxLevel += diff;\r\n                }\r\n                if (val > this.loopLevel && this.loopLevel != -1) {\r\n                    Laya.LocalStorage.setItem('_gameLevel', (1).toString());\r\n                }\r\n                else {\r\n                    Laya.LocalStorage.setItem('_gameLevel', (val).toString());\r\n                }\r\n            },\r\n            get maxLevel() {\r\n                return Laya.LocalStorage.getItem('_game_maxLevel') ? Number(Laya.LocalStorage.getItem('_game_maxLevel')) : this.level;\r\n            },\r\n            set maxLevel(val) {\r\n                Laya.LocalStorage.setItem('_game_maxLevel', val.toString());\r\n            },\r\n            get loopLevel() {\r\n                return this['_gameloopLevel'] ? this['_gameloopLevel'] : -1;\r\n            },\r\n            set loopLevel(lev) {\r\n                this['_gameloopLevel'] = lev;\r\n            },\r\n            LevelNode: new Laya.Sprite,\r\n            _createLevel(parent, x, y) {\r\n                let sp;\r\n                Laya.loader.load('prefab/LevelNode.json', Laya.Handler.create(this, function (prefab) {\r\n                    let _prefab = new Laya.Prefab();\r\n                    _prefab.json = prefab;\r\n                    sp = Laya.Pool.getItemByCreateFun('prefab', _prefab.create, _prefab);\r\n                    parent.addChild(sp);\r\n                    sp.pos(x, y);\r\n                    sp.zOrder = 0;\r\n                    let level = sp.getChildByName('level');\r\n                    Admin._game.LevelNode = sp;\r\n                }));\r\n            },\r\n            pause: {\r\n                get switch() {\r\n                    return Admin._game.switch;\r\n                },\r\n                set switch(bool) {\r\n                    this.bool = bool;\r\n                    if (bool) {\r\n                        Admin._game.switch = false;\r\n                        Laya.timer.pause();\r\n                    }\r\n                    else {\r\n                        Admin._game.switch = true;\r\n                        Laya.timer.resume();\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        class _Game {\r\n        }\r\n        Admin._Game = _Game;\r\n        Admin._clickLock = {\r\n            get switch() {\r\n                return Laya.stage.getChildByName('__stageClickLock__') ? true : false;\r\n            },\r\n            set switch(bool) {\r\n                if (bool) {\r\n                    if (!Laya.stage.getChildByName('__stageClickLock__')) {\r\n                        console.log('锁住点击！');\r\n                        let __stageClickLock__ = new Laya.Sprite();\r\n                        __stageClickLock__.name = '__stageClickLock__';\r\n                        Laya.stage.addChild(__stageClickLock__);\r\n                        __stageClickLock__.zOrder = 3000;\r\n                        __stageClickLock__.width = Laya.stage.width;\r\n                        __stageClickLock__.height = Laya.stage.height;\r\n                        __stageClickLock__.pos(0, 0);\r\n                        Click._on(Click._Effect.type.no, __stageClickLock__, this, null, null, (e) => {\r\n                            console.log('舞台点击被锁住了！请用admin._clickLock=false解锁');\r\n                            e.stopPropagation();\r\n                        });\r\n                    }\r\n                    else {\r\n                    }\r\n                }\r\n                else {\r\n                    if (Laya.stage.getChildByName('__stageClickLock__')) {\r\n                        Laya.stage.getChildByName('__stageClickLock__').removeSelf();\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        function _secneLockClick(scene) {\r\n            _unlockPreventClick(scene);\r\n            let __lockClick__ = new Laya.Sprite();\r\n            scene.addChild(__lockClick__);\r\n            __lockClick__.zOrder = 1000;\r\n            __lockClick__.name = '__lockClick__';\r\n            __lockClick__.width = Laya.stage.width;\r\n            __lockClick__.height = Laya.stage.height;\r\n            __lockClick__.pos(0, 0);\r\n            Click._on(Click._Effect.type.no, __lockClick__, this, null, null, (e) => {\r\n                console.log('场景点击被锁住了！请用admin._unlockPreventClick（）解锁');\r\n                e.stopPropagation();\r\n            });\r\n        }\r\n        Admin._secneLockClick = _secneLockClick;\r\n        function _unlockPreventClick(scene) {\r\n            let __lockClick__ = scene.getChildByName('__lockClick__');\r\n            if (__lockClick__) {\r\n                __lockClick__.removeSelf();\r\n            }\r\n        }\r\n        Admin._unlockPreventClick = _unlockPreventClick;\r\n        Admin._sceneControl = {};\r\n        Admin._sceneScript = {};\r\n        Admin._moudel = {};\r\n        let _SceneName;\r\n        (function (_SceneName) {\r\n            _SceneName[\"PreLoad\"] = \"PreLoad\";\r\n            _SceneName[\"PreLoadStep\"] = \"PreLoadStep\";\r\n            _SceneName[\"Guide\"] = \"Guide\";\r\n            _SceneName[\"Start\"] = \"Start\";\r\n            _SceneName[\"Shop\"] = \"Shop\";\r\n            _SceneName[\"Task\"] = \"Task\";\r\n            _SceneName[\"Set\"] = \"Set\";\r\n            _SceneName[\"Skin\"] = \"Skin\";\r\n            _SceneName[\"Puase\"] = \"Puase\";\r\n            _SceneName[\"Share\"] = \"Share\";\r\n            _SceneName[\"Game3D\"] = \"Game3D\";\r\n            _SceneName[\"Victory\"] = \"Victory\";\r\n            _SceneName[\"Defeated\"] = \"Defeated\";\r\n            _SceneName[\"PassHint\"] = \"PassHint\";\r\n            _SceneName[\"SkinTry\"] = \"SkinTry\";\r\n            _SceneName[\"Redeem\"] = \"Redeem\";\r\n            _SceneName[\"Turntable\"] = \"Turntable\";\r\n            _SceneName[\"CaidanPifu\"] = \"CaidanPifu\";\r\n            _SceneName[\"Operation\"] = \"Operation\";\r\n            _SceneName[\"VictoryBox\"] = \"VictoryBox\";\r\n            _SceneName[\"CheckIn\"] = \"CheckIn\";\r\n            _SceneName[\"Resurgence\"] = \"Resurgence\";\r\n            _SceneName[\"AdsHint\"] = \"AdsHint\";\r\n            _SceneName[\"LwgInit\"] = \"LwgInit\";\r\n            _SceneName[\"Game\"] = \"Game\";\r\n            _SceneName[\"SmallHint\"] = \"SmallHint\";\r\n            _SceneName[\"DrawCard\"] = \"DrawCard\";\r\n            _SceneName[\"PropTry\"] = \"PropTry\";\r\n            _SceneName[\"Card\"] = \"Card\";\r\n            _SceneName[\"ExecutionHint\"] = \"ExecutionHint\";\r\n            _SceneName[\"SkinQualified\"] = \"SkinQualified\";\r\n            _SceneName[\"Eastereggister\"] = \"Eastereggister\";\r\n            _SceneName[\"SelectLevel\"] = \"SelectLevel\";\r\n            _SceneName[\"Settle\"] = \"Settle\";\r\n            _SceneName[\"Special\"] = \"Special\";\r\n            _SceneName[\"Compound\"] = \"Compound\";\r\n        })(_SceneName = Admin._SceneName || (Admin._SceneName = {}));\r\n        function _preLoadOpenScene(openName, cloesName, func, zOrder) {\r\n            _openScene(_SceneName.PreLoadStep);\r\n            Admin._preLoadOpenSceneLater.openName = openName;\r\n            Admin._preLoadOpenSceneLater.cloesName = cloesName;\r\n            Admin._preLoadOpenSceneLater.func = func;\r\n            Admin._preLoadOpenSceneLater.zOrder = zOrder;\r\n        }\r\n        Admin._preLoadOpenScene = _preLoadOpenScene;\r\n        Admin._preLoadOpenSceneLater = {\r\n            openName: null,\r\n            cloesName: null,\r\n            func: null,\r\n            zOrder: null,\r\n        };\r\n        function _openScene(openName, cloesName, func, zOrder) {\r\n            Admin._clickLock.switch = true;\r\n            Laya.Scene.load('Scene/' + openName + '.json', Laya.Handler.create(this, function (scene) {\r\n                if (Admin._moudel['_' + openName]) {\r\n                    if (Admin._moudel['_' + openName][openName]) {\r\n                        if (!scene.getComponent(Admin._moudel['_' + openName][openName])) {\r\n                            scene.addComponent(Admin._moudel['_' + openName][openName]);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    console.log(`${openName}场景没有同名脚本！`);\r\n                }\r\n                scene.width = Laya.stage.width;\r\n                scene.height = Laya.stage.height;\r\n                var openf = () => {\r\n                    if (Tools.Node.checkChildren(Laya.stage, openName)) {\r\n                        console.log(openName, '场景重复出现！请检查代码');\r\n                        return;\r\n                    }\r\n                    if (zOrder) {\r\n                        Laya.stage.addChildAt(scene, zOrder);\r\n                    }\r\n                    else {\r\n                        Laya.stage.addChild(scene);\r\n                    }\r\n                    if (func) {\r\n                        func();\r\n                    }\r\n                };\r\n                scene.name = openName;\r\n                Admin._sceneControl[openName] = scene;\r\n                let background = scene.getChildByName('Background');\r\n                if (background) {\r\n                    background.width = Laya.stage.width;\r\n                    background.height = Laya.stage.height;\r\n                }\r\n                if (Admin._sceneControl[cloesName]) {\r\n                    _closeScene(cloesName, openf);\r\n                }\r\n                else {\r\n                    openf();\r\n                }\r\n            }));\r\n        }\r\n        Admin._openScene = _openScene;\r\n        function _closeScene(closeName, func) {\r\n            if (!Admin._sceneControl[closeName]) {\r\n                console.log('场景', closeName, '关闭失败！可能是名称不对！');\r\n                return;\r\n            }\r\n            var closef = () => {\r\n                Admin._clickLock.switch = false;\r\n                Admin._sceneControl[closeName].close();\r\n                if (func) {\r\n                    func();\r\n                }\r\n            };\r\n            if (!Admin._sceneAnimation.vanishSwitch) {\r\n                closef();\r\n                return;\r\n            }\r\n            let cloesSceneScript = Admin._sceneControl[closeName][Admin._sceneControl[closeName].name];\r\n            if (cloesSceneScript) {\r\n                if (cloesSceneScript) {\r\n                    Admin._clickLock.switch = true;\r\n                    cloesSceneScript.lwgBeforeVanishAni();\r\n                    let time0 = cloesSceneScript.lwgVanishAni();\r\n                    if (time0 !== null) {\r\n                        Laya.timer.once(time0, this, () => {\r\n                            closef();\r\n                            Admin._clickLock.switch = false;\r\n                        });\r\n                    }\r\n                    else {\r\n                        _commonVanishAni(Admin._sceneControl[closeName], closef);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        Admin._closeScene = _closeScene;\r\n        Admin._sceneAnimation = {\r\n            type: {\r\n                fadeOut: 'fadeOut',\r\n                stickIn: {\r\n                    random: 'random',\r\n                    upLeftDownLeft: 'upLeftDownRight',\r\n                    upRightDownLeft: 'upRightDownLeft',\r\n                },\r\n                leftMove: 'leftMove',\r\n                rightMove: 'rightMove',\r\n                centerRotate: 'centerRotate',\r\n                drawUp: 'drawUp',\r\n            },\r\n            vanishSwitch: false,\r\n            openSwitch: true,\r\n            use: 'fadeOut',\r\n        };\r\n        function _commonVanishAni(CloseScene, closeFunc) {\r\n            CloseScene[CloseScene.name].lwgBeforeVanishAni();\r\n            let time;\r\n            let delay;\r\n            switch (Admin._sceneAnimation.use) {\r\n                case Admin._sceneAnimation.type.fadeOut:\r\n                    time = 150;\r\n                    delay = 50;\r\n                    if (CloseScene['Background']) {\r\n                        Animation2D.fadeOut(CloseScene, 1, 0, time / 2);\r\n                    }\r\n                    Animation2D.fadeOut(CloseScene, 1, 0, time, delay, () => {\r\n                        closeFunc();\r\n                    });\r\n                    break;\r\n                case Admin._sceneAnimation.type.stickIn.random:\r\n                    closeFunc();\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n        function _commonOpenAni(Scene) {\r\n            let time;\r\n            let delay;\r\n            let sumDelay;\r\n            var afterAni = () => {\r\n                Admin._clickLock.switch = false;\r\n                if (Scene[Scene.name]) {\r\n                    Scene[Scene.name].lwgOpenAniAfter();\r\n                    Scene[Scene.name].lwgBtnRegister();\r\n                }\r\n            };\r\n            switch (Admin._sceneAnimation.use) {\r\n                case Admin._sceneAnimation.type.fadeOut:\r\n                    time = 400;\r\n                    delay = 300;\r\n                    if (Scene['Background']) {\r\n                        Animation2D.fadeOut(Scene, 0, 1, time / 2, delay);\r\n                    }\r\n                    Animation2D.fadeOut(Scene, 0, 1, time, 0);\r\n                    sumDelay = 400;\r\n                    break;\r\n                case Admin._sceneAnimation.type.stickIn.upLeftDownLeft:\r\n                    _sceneAnimationTypeStickIn(Scene, Admin._sceneAnimation.type.stickIn.upLeftDownLeft);\r\n                    break;\r\n                case Admin._sceneAnimation.type.stickIn.upRightDownLeft:\r\n                    _sceneAnimationTypeStickIn(Scene, Admin._sceneAnimation.type.stickIn.upRightDownLeft);\r\n                case Admin._sceneAnimation.type.stickIn.random:\r\n                    _sceneAnimationTypeStickIn(Scene, Admin._sceneAnimation.type.stickIn.random);\r\n                default:\r\n                    break;\r\n            }\r\n            Laya.timer.once(sumDelay, this, () => {\r\n                afterAni();\r\n            });\r\n            return sumDelay;\r\n        }\r\n        function _sceneAnimationTypeStickIn(Scene, type) {\r\n            let sumDelay = 0;\r\n            let time = 700;\r\n            let delay = 100;\r\n            if (Scene.getChildByName('Background')) {\r\n                Animation2D.fadeOut(Scene.getChildByName('Background'), 0, 1, time);\r\n            }\r\n            let stickInLeftArr = Tools.Node.zOrderByY(Scene, false);\r\n            for (let index = 0; index < stickInLeftArr.length; index++) {\r\n                const element = stickInLeftArr[index];\r\n                if (element.name !== 'Background' && element.name.substr(0, 5) !== 'NoAni') {\r\n                    let originalPovitX = element.pivotX;\r\n                    let originalPovitY = element.pivotY;\r\n                    switch (type) {\r\n                        case Admin._sceneAnimation.type.stickIn.upLeftDownLeft:\r\n                            element.rotation = element.y > Laya.stage.height / 2 ? -180 : 180;\r\n                            Tools.Node.changePovit(element, 0, 0);\r\n                            break;\r\n                        case Admin._sceneAnimation.type.stickIn.upRightDownLeft:\r\n                            element.rotation = element.y > Laya.stage.height / 2 ? -180 : 180;\r\n                            Tools.Node.changePovit(element, element.rotation == 180 ? element.width : 0, 0);\r\n                            break;\r\n                        case Admin._sceneAnimation.type.stickIn.random:\r\n                            element.rotation = Tools.randomOneHalf() == 1 ? 180 : -180;\r\n                            Tools.Node.changePovit(element, Tools.randomOneHalf() == 1 ? 0 : element.width, Tools.randomOneHalf() == 1 ? 0 : element.height);\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    let originalX = element.x;\r\n                    let originalY = element.y;\r\n                    element.x = element.pivotX > element.width / 2 ? 800 + element.width : -800 - element.width;\r\n                    element.y = element.rotation > 0 ? element.y + 200 : element.y - 200;\r\n                    Animation2D.simple_Rotate(element, element.rotation, 0, time, delay * index);\r\n                    Animation2D.move_Simple(element, element.x, element.y, originalX, originalY, time, delay * index, () => {\r\n                        Tools.Node.changePovit(element, originalPovitX, originalPovitY);\r\n                    });\r\n                }\r\n            }\r\n            sumDelay = Scene.numChildren * delay + time + 200;\r\n            return sumDelay;\r\n        }\r\n        Admin._gameState = {\r\n            type: {\r\n                Start: 'Start',\r\n                Play: 'Play',\r\n                Pause: 'pause',\r\n                Victory: 'victory',\r\n                Defeated: 'defeated',\r\n            },\r\n            state: 'Start',\r\n            setState(_calssName) {\r\n                switch (_calssName) {\r\n                    case _SceneName.Start:\r\n                        Admin._gameState.state = Admin._gameState.type.Start;\r\n                        break;\r\n                    case _SceneName.Game:\r\n                        Admin._gameState.state = Admin._gameState.type.Play;\r\n                        break;\r\n                    case _SceneName.Defeated:\r\n                        Admin._gameState.state = Admin._gameState.type.Defeated;\r\n                        break;\r\n                    case _SceneName.Victory:\r\n                        Admin._gameState.state = Admin._gameState.type.Victory;\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        };\r\n        class _SceneBase extends Laya.Script {\r\n            constructor() {\r\n                super();\r\n                this._calssName = _SceneName.PreLoad;\r\n            }\r\n            get _Owner() {\r\n                return this.owner;\r\n            }\r\n            _SpriteVar(str) {\r\n                if (this._Owner[str]) {\r\n                    return this._Owner[str];\r\n                }\r\n                else {\r\n                    console.log('场景内不存在全局节点：', str);\r\n                    return undefined;\r\n                }\r\n            }\r\n            _AniVar(str) {\r\n                if (this._Owner[str]) {\r\n                    return this._Owner[str];\r\n                }\r\n                else {\r\n                    console.log('场景内不存在动画：', str);\r\n                    return undefined;\r\n                }\r\n            }\r\n            _btnVar(str) {\r\n                if (this._Owner[str]) {\r\n                    return this._Owner[str];\r\n                }\r\n                else {\r\n                    console.log('场景内不存在全局按钮：', str);\r\n                    return undefined;\r\n                }\r\n            }\r\n            _ImgVar(str) {\r\n                if (this._Owner[str]) {\r\n                    return this._Owner[str];\r\n                }\r\n                else {\r\n                    console.log('场景内不存在全局节点：', str);\r\n                    return undefined;\r\n                }\r\n            }\r\n            _ListVar(str) {\r\n                if (this._Owner[str]) {\r\n                    return this._Owner[str];\r\n                }\r\n                else {\r\n                    console.log('场景内不存在全局节点：', str);\r\n                }\r\n            }\r\n            _TapVar(str) {\r\n                if (this._Owner[str]) {\r\n                    return this._Owner[str];\r\n                }\r\n                else {\r\n                    console.log('场景内不存在全局节点：', str);\r\n                }\r\n            }\r\n            onAwake() {\r\n                if (this._Owner.name == null) {\r\n                    console.log('场景名称失效，脚本赋值失败');\r\n                }\r\n                else {\r\n                    this._calssName = this._Owner.name;\r\n                    this._Owner[this._calssName] = this;\r\n                }\r\n                Admin._gameState.setState(this._calssName);\r\n                this.moduleOnAwake();\r\n                this.lwgOnAwake();\r\n                this.lwgAdaptive();\r\n            }\r\n            lwgOnAwake() { }\r\n            ;\r\n            moduleOnAwake() { }\r\n            onEnable() {\r\n                this.moduleEventRegister();\r\n                this.lwgEventRegister();\r\n                this.moduleOnEnable();\r\n                this.lwgOnEnable();\r\n                this.btnAndlwgOpenAni();\r\n            }\r\n            moduleOnEnable() { }\r\n            ;\r\n            lwgEventRegister() { }\r\n            ;\r\n            moduleEventRegister() { }\r\n            ;\r\n            lwgOnEnable() { }\r\n            onStart() {\r\n                this.moduleOnStart();\r\n                this.lwgOnStart();\r\n            }\r\n            _openScene(openName, closeSelf, func, zOrder) {\r\n                let closeName;\r\n                if (closeSelf == undefined || closeSelf == true) {\r\n                    closeName = this._Owner.name;\r\n                }\r\n                Admin._openScene(openName, closeName, func, zOrder);\r\n            }\r\n            _closeScene(sceneName, func) {\r\n                Admin._closeScene(sceneName ? sceneName : this._Owner.name, func);\r\n            }\r\n            lwgOnStart() { }\r\n            moduleOnStart() { }\r\n            btnAndlwgOpenAni() {\r\n                let time = this.lwgOpenAni();\r\n                if (time !== null) {\r\n                    Laya.timer.once(time, this, () => {\r\n                        Admin._clickLock.switch = false;\r\n                        this.lwgOpenAniAfter();\r\n                        this.lwgBtnRegister();\r\n                    });\r\n                }\r\n                else {\r\n                    time = _commonOpenAni(this._Owner);\r\n                }\r\n            }\r\n            lwgOpenAni() { return null; }\r\n            ;\r\n            lwgOpenAniAfter() { }\r\n            ;\r\n            lwgBtnRegister() { }\r\n            ;\r\n            _btnUp(target, up, effect) {\r\n                Click._on(effect ? effect : Click._Effect.use, target, this, null, null, up, null);\r\n            }\r\n            _btnDown(target, down, effect) {\r\n                Click._on(effect ? effect : Click._Effect.use, target, this, down, null, null, null);\r\n            }\r\n            _btnAll(target, down, move, up, out, effect) {\r\n                Click._on(effect ? effect : Click._Effect.use, target, this, down, move, up, out);\r\n            }\r\n            lwgAdaptive() { }\r\n            ;\r\n            _adaptiveHeight(arr) {\r\n                for (let index = 0; index < arr.length; index++) {\r\n                    const element = arr[index];\r\n                    element.y / GameConfig.height * Laya.stage.height;\r\n                }\r\n            }\r\n            ;\r\n            _adaptiveWidth(arr) {\r\n                for (let index = 0; index < arr.length; index++) {\r\n                    const element = arr[index];\r\n                    element.x / GameConfig.width * Laya.stage.width;\r\n                }\r\n            }\r\n            ;\r\n            onUpdate() { this.lwgOnUpdate(); }\r\n            ;\r\n            lwgOnUpdate() { }\r\n            ;\r\n            lwgBeforeVanishAni() { }\r\n            lwgVanishAni() { return null; }\r\n            ;\r\n            onDisable() {\r\n                Animation2D.fadeOut(this._Owner, 1, 0, 2000, 1);\r\n                this.lwgOnDisable();\r\n                Laya.timer.clearAll(this);\r\n                Laya.Tween.clearAll(this);\r\n                EventAdmin._offCaller(this);\r\n            }\r\n            lwgOnDisable() { }\r\n            ;\r\n        }\r\n        Admin._SceneBase = _SceneBase;\r\n        class _ObjectBase extends Laya.Script {\r\n            constructor() {\r\n                super();\r\n            }\r\n            get _Owner() {\r\n                return this.owner;\r\n            }\r\n            get _OwnerScene() {\r\n                return this.owner.scene;\r\n            }\r\n            get _RigidBody() {\r\n                if (!this._Owner['_OwnerRigidBody']) {\r\n                    this._Owner['_OwnerRigidBody'] = this._Owner.getComponent(Laya.RigidBody);\r\n                }\r\n                return this._Owner['_OwnerRigidBody'];\r\n            }\r\n            get _BoxCollier() {\r\n                if (!this._Owner['_OwnerBoxCollier']) {\r\n                    this._Owner['_OwnerBoxCollier'] = this._Owner.getComponent(Laya.BoxCollider);\r\n                }\r\n                return this._Owner['_OwnerBoxCollier'];\r\n            }\r\n            get _CilrcleCollier() {\r\n                if (!this._Owner['_OwnerCilrcleCollier']) {\r\n                    this._Owner['_OwnerCilrcleCollier'] = this._Owner.getComponent(Laya.BoxCollider);\r\n                }\r\n                return this._Owner['_OwnerCilrcleCollier'];\r\n            }\r\n            get _PolygonCollier() {\r\n                if (!this._Owner['_OwnerPolygonCollier']) {\r\n                    this._Owner['_OwnerPolygonCollier'] = this._Owner.getComponent(Laya.BoxCollider);\r\n                }\r\n                return this._Owner['_OwnerPolygonCollier'];\r\n            }\r\n            onAwake() {\r\n                let _calssName = this['__proto__']['constructor'].name;\r\n                this._Owner[_calssName] = this;\r\n                this.lwgOnAwake();\r\n                this.lwgAdaptive();\r\n            }\r\n            lwgAdaptive() { }\r\n            ;\r\n            _adaptiveHeight(arr) {\r\n                for (let index = 0; index < arr.length; index++) {\r\n                    const element = arr[index];\r\n                    element.y / GameConfig.height * Laya.stage.height;\r\n                }\r\n            }\r\n            ;\r\n            _adaptiveWidth(arr) {\r\n                for (let index = 0; index < arr.length; index++) {\r\n                    const element = arr[index];\r\n                    element.x / GameConfig.width * Laya.stage.width;\r\n                }\r\n            }\r\n            ;\r\n            _ImgChild(str) {\r\n                if (this._Owner.getChildByName(str)) {\r\n                    return this._Owner.getChildByName(str);\r\n                }\r\n                else {\r\n                    console.log('场景内不存在子节点：', str);\r\n                    return null;\r\n                }\r\n            }\r\n            lwgOpenScene(openName, closeSelf, func, zOrder) {\r\n                let closeName;\r\n                if (closeSelf == undefined || closeSelf == true) {\r\n                    closeName = this._OwnerScene.name;\r\n                }\r\n                Admin._openScene(openName, closeName, func, zOrder);\r\n            }\r\n            lwgCloseScene(sceneName, func) {\r\n                Admin._closeScene(sceneName ? sceneName : this._Owner.name, func);\r\n            }\r\n            lwgOnAwake() { }\r\n            onEnable() {\r\n                this.lwgBtnRegister();\r\n                this.lwgEventRegister();\r\n                this.lwgOnEnable();\r\n            }\r\n            lwgOnEnable() { }\r\n            lwgBtnRegister() { }\r\n            _btnUp(target, up, effect) {\r\n                Click._on(effect ? effect : Click._Effect.use, target, this, null, null, up, null);\r\n            }\r\n            _btnDown(target, down, effect) {\r\n                Click._on(effect ? effect : Click._Effect.use, target, this, down, null, null, null);\r\n            }\r\n            _btnAll(target, down, move, up, out, effect) {\r\n                Click._on(effect ? effect : Click._Effect.use, target, this, down, move, up, out);\r\n            }\r\n            lwgEventRegister() { }\r\n            onStart() {\r\n                this.lwgOnStart();\r\n            }\r\n            lwgOnStart() { }\r\n            onUpdate() {\r\n                this.lwgOnUpdate();\r\n            }\r\n            lwgOnUpdate() { }\r\n            onDisable() {\r\n                this.lwgOnDisable();\r\n                Laya.timer.clearAll(this);\r\n                EventAdmin._offCaller(this);\r\n            }\r\n            lwgOnDisable() { }\r\n        }\r\n        Admin._ObjectBase = _ObjectBase;\r\n    })(Admin = lwg.Admin || (lwg.Admin = {}));\r\n    let DataAdmin;\r\n    (function (DataAdmin) {\r\n        class _Store {\r\n            getVariables() {\r\n            }\r\n        }\r\n        DataAdmin._Store = _Store;\r\n        class _Table {\r\n            constructor(dataName, arrUrl, localStorage, proName) {\r\n                this._property = {\r\n                    name: 'name',\r\n                    chName: 'chName',\r\n                    classify: 'classify',\r\n                    unlockWay: 'unlockWay',\r\n                    conditionNum: 'conditionNum',\r\n                    degreeNum: 'degreeNum',\r\n                    compelet: 'compelet',\r\n                    unlock: 'unlock',\r\n                    have: 'have',\r\n                    getAward: 'getAward',\r\n                };\r\n                this._arr = [];\r\n                if (dataName) {\r\n                    if (localStorage) {\r\n                        this._arr = Tools.jsonCompare(arrUrl, dataName, proName ? proName : 'name');\r\n                    }\r\n                    else {\r\n                        if (Laya.Loader.getRes(arrUrl)) {\r\n                            this._arr = Laya.Loader.getRes(arrUrl);\r\n                        }\r\n                        else {\r\n                            console.log(arrUrl, '数据表不存在！');\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            _getProperty(name, pro) {\r\n                let value;\r\n                for (const key in this._arr) {\r\n                    if (Object.prototype.hasOwnProperty.call(this._arr, key)) {\r\n                        const element = this._arr[key];\r\n                        if (element[this._property.name] == name) {\r\n                            value = element[pro];\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                return value;\r\n            }\r\n            ;\r\n            _setProperty(name, pro, value) {\r\n                for (const key in this._arr) {\r\n                    if (Object.prototype.hasOwnProperty.call(this._arr, key)) {\r\n                        const element = this._arr[key];\r\n                        if (element[this._property.name] == name) {\r\n                            element[pro] = value;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                return value;\r\n            }\r\n            ;\r\n            _randomOne(proName, value) {\r\n                let data1;\r\n                let arr = [];\r\n                for (const key in this._arr) {\r\n                    if (Object.prototype.hasOwnProperty.call(this._arr, key)) {\r\n                        const element = this._arr[key];\r\n                        if (element[proName]) {\r\n                            arr.push(element);\r\n                        }\r\n                    }\r\n                }\r\n                if (arr.length == 0) {\r\n                    return null;\r\n                }\r\n                else {\r\n                    let any = Tools.arrayRandomGetOne(arr);\r\n                    return any;\r\n                }\r\n            }\r\n            _getPropertyArr(proName, value) {\r\n                let arr = [];\r\n                for (const key in this._arr) {\r\n                    if (Object.prototype.hasOwnProperty.call(this._arr, key)) {\r\n                        const element = this._arr[key];\r\n                        if (element[proName] && element[proName] == value) {\r\n                            arr.push(element);\r\n                        }\r\n                    }\r\n                }\r\n                return arr;\r\n            }\r\n            _setPropertyArr(proName, value) {\r\n                let arr = [];\r\n                for (const key in this._arr) {\r\n                    if (Object.prototype.hasOwnProperty.call(this._arr, key)) {\r\n                        const element = this._arr[key];\r\n                        if (element[proName]) {\r\n                            element[proName] == value;\r\n                            arr.push(element);\r\n                        }\r\n                    }\r\n                }\r\n                return arr;\r\n            }\r\n            _checkCondition(name, number, func) {\r\n                let chek = null;\r\n                number = number == undefined ? 1 : number;\r\n                let degreeNum = this._getProperty(name, this._property.degreeNum);\r\n                let condition = this._getProperty(name, this._property.conditionNum);\r\n                let compelet = this._getProperty(name, this._property.compelet);\r\n                if (!compelet) {\r\n                    if (condition <= degreeNum + number) {\r\n                        this._setProperty(name, this._property.degreeNum, condition);\r\n                        this._setProperty(name, this._property.compelet, true);\r\n                        chek = true;\r\n                    }\r\n                    else {\r\n                        this._setProperty(name, this._property.degreeNum, degreeNum + number);\r\n                        chek = false;\r\n                    }\r\n                }\r\n                else {\r\n                    chek = -1;\r\n                }\r\n                if (func) {\r\n                    func();\r\n                }\r\n                return chek;\r\n            }\r\n            _checkAllCompelet() {\r\n                let bool = true;\r\n                for (let index = 0; index < this._arr.length; index++) {\r\n                    const element = this._arr[index];\r\n                    if (!element[this._property.compelet]) {\r\n                        bool = false;\r\n                        return bool;\r\n                    }\r\n                }\r\n                return bool;\r\n            }\r\n        }\r\n        DataAdmin._Table = _Table;\r\n    })(DataAdmin = lwg.DataAdmin || (lwg.DataAdmin = {}));\r\n    let Color;\r\n    (function (Color) {\r\n        function RGBToHexString(r, g, b) {\r\n            return '#' + (\"00000\" + (r << 16 | g << 8 | b).toString(16)).slice(-6);\r\n        }\r\n        Color.RGBToHexString = RGBToHexString;\r\n        function HexStringToRGB(str) {\r\n            let arr = [];\r\n            return arr;\r\n        }\r\n        Color.HexStringToRGB = HexStringToRGB;\r\n        function _colour(node, RGBA, vanishtime) {\r\n            let cf = new Laya.ColorFilter();\r\n            node.blendMode = 'null';\r\n            if (!RGBA) {\r\n                cf.color(Tools.randomOneNumber(255, 100, true), Tools.randomOneNumber(255, 100, true), Tools.randomOneNumber(255, 100, true), 1);\r\n            }\r\n            else {\r\n                cf.color(RGBA[0], RGBA[1], RGBA[2], RGBA[3]);\r\n            }\r\n            node.filters = [cf];\r\n            if (vanishtime) {\r\n                Laya.timer.once(vanishtime, this, () => {\r\n                    for (let index = 0; index < node.filters.length; index++) {\r\n                        if (node.filters[index] == cf) {\r\n                            node.filters = [];\r\n                            break;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n            return cf;\r\n        }\r\n        Color._colour = _colour;\r\n        function _changeOnce(node, RGBA, time, func) {\r\n            if (!node) {\r\n                return;\r\n            }\r\n            let cf = new Laya.ColorFilter();\r\n            cf.color(0, 0, 0, 0);\r\n            let speedR = RGBA[0] / time;\r\n            let speedG = RGBA[1] / time;\r\n            let speedB = RGBA[2] / time;\r\n            let speedA = 0;\r\n            if (RGBA[3]) {\r\n                speedA = RGBA[3] / time;\r\n            }\r\n            let caller = {\r\n                add: true,\r\n            };\r\n            let R = 0, G = 0, B = 0, A = 0;\r\n            TimerAdmin._frameLoop(1, caller, () => {\r\n                if (R < RGBA[0] && caller.add) {\r\n                    R += speedR;\r\n                    G += speedG;\r\n                    B += speedB;\r\n                    if (speedA !== 0)\r\n                        A += speedA;\r\n                    if (R >= RGBA[0]) {\r\n                        caller.add = false;\r\n                    }\r\n                }\r\n                else {\r\n                    R -= speedR;\r\n                    G -= speedG;\r\n                    B -= speedB;\r\n                    if (speedA !== 0)\r\n                        A -= speedA;\r\n                    if (R <= 0) {\r\n                        if (func) {\r\n                            func();\r\n                        }\r\n                        Laya.timer.clearAll(caller);\r\n                    }\r\n                }\r\n                cf.color(R, G, B, A);\r\n                node.filters = [cf];\r\n            });\r\n        }\r\n        Color._changeOnce = _changeOnce;\r\n        function _changeConstant(node, RGBA1, RGBA2, frameTime) {\r\n            let cf;\r\n            let RGBA0 = [];\r\n            if (!node.filters) {\r\n                cf = new Laya.ColorFilter();\r\n                cf.color(RGBA1[0], RGBA1[1], RGBA1[2], RGBA1[3] ? RGBA1[3] : 1);\r\n                RGBA0 = [RGBA1[0], RGBA1[1], RGBA1[2], RGBA1[3] ? RGBA1[3] : 1];\r\n                node.filters = [cf];\r\n            }\r\n            else {\r\n                cf = node.filters[0];\r\n                RGBA0 = [node.filters[0]['_alpha'][0], node.filters[0]['_alpha'][1], node.filters[0]['_alpha'][2], node.filters[0]['_alpha'][3] ? node.filters[0]['_alpha'][3] : 1];\r\n            }\r\n            let RGBA = [Tools.randomCountNumer(RGBA1[0], RGBA2[0])[0], Tools.randomCountNumer(RGBA1[1], RGBA2[1])[0], Tools.randomCountNumer(RGBA1[2], RGBA2[2])[0], Tools.randomCountNumer(RGBA1[3] ? RGBA1[3] : 1, RGBA2[3] ? RGBA2[3] : 1)[0]];\r\n            let speedR = (RGBA[0] - RGBA0[0]) / frameTime;\r\n            let speedG = (RGBA[1] - RGBA0[1]) / frameTime;\r\n            let speedB = (RGBA[2] - RGBA0[2]) / frameTime;\r\n            let speedA = 0;\r\n            if (RGBA[3]) {\r\n                speedA = (RGBA[3] - RGBA0[3]) / frameTime;\r\n            }\r\n            if (node['changeCaller']) {\r\n                Laya.timer.clearAll(node['changeCaller']);\r\n            }\r\n            let changeCaller = {};\r\n            node['changeCaller'] = changeCaller;\r\n            let _time = 0;\r\n            TimerAdmin._frameLoop(1, changeCaller, () => {\r\n                _time++;\r\n                if (_time <= frameTime) {\r\n                    RGBA0[0] += speedR;\r\n                    RGBA0[1] += speedG;\r\n                    RGBA0[2] += speedB;\r\n                }\r\n                else {\r\n                    Laya.timer.clearAll(changeCaller);\r\n                }\r\n                cf.color(RGBA0[0], RGBA0[1], RGBA0[2], RGBA0[3]);\r\n                node.filters = [cf];\r\n            });\r\n        }\r\n        Color._changeConstant = _changeConstant;\r\n    })(Color = lwg.Color || (lwg.Color = {}));\r\n    let Effects;\r\n    (function (Effects) {\r\n        let _SkinUrl;\r\n        (function (_SkinUrl) {\r\n            _SkinUrl[\"\\u7231\\u5FC31\"] = \"Frame/Effects/aixin1.png\";\r\n            _SkinUrl[\"\\u7231\\u5FC32\"] = \"Frame/Effects/aixin2.png\";\r\n            _SkinUrl[\"\\u7231\\u5FC33\"] = \"Frame/Effects/aixin3.png\";\r\n            _SkinUrl[\"\\u82B11\"] = \"Frame/Effects/hua1.png\";\r\n            _SkinUrl[\"\\u82B12\"] = \"Frame/Effects/hua2.png\";\r\n            _SkinUrl[\"\\u82B13\"] = \"Frame/Effects/hua3.png\";\r\n            _SkinUrl[\"\\u82B14\"] = \"Frame/Effects/hua4.png\";\r\n            _SkinUrl[\"\\u661F\\u661F1\"] = \"Frame/Effects/star1.png\";\r\n            _SkinUrl[\"\\u661F\\u661F2\"] = \"Frame/Effects/star2.png\";\r\n            _SkinUrl[\"\\u661F\\u661F3\"] = \"Frame/Effects/star3.png\";\r\n            _SkinUrl[\"\\u661F\\u661F4\"] = \"Frame/Effects/star4.png\";\r\n            _SkinUrl[\"\\u661F\\u661F5\"] = \"Frame/Effects/star5.png\";\r\n            _SkinUrl[\"\\u661F\\u661F6\"] = \"Frame/Effects/star6.png\";\r\n            _SkinUrl[\"\\u661F\\u661F7\"] = \"Frame/Effects/star7.png\";\r\n            _SkinUrl[\"\\u96EA\\u82B11\"] = \"Frame/Effects/xuehua1.png\";\r\n            _SkinUrl[\"\\u53F6\\u5B501\"] = \"Frame/Effects/yezi1.png\";\r\n            _SkinUrl[\"\\u5706\\u5F62\\u53D1\\u51491\"] = \"Frame/Effects/yuanfaguang.png\";\r\n            _SkinUrl[\"\\u5706\\u5F621\"] = \"Frame/Effects/yuan1.png\";\r\n            _SkinUrl[\"\\u5149\\u57081\"] = \"Frame/Effects/guangquan1.png\";\r\n            _SkinUrl[\"\\u5149\\u57082\"] = \"Frame/Effects/guangquan2.png\";\r\n        })(_SkinUrl = Effects._SkinUrl || (Effects._SkinUrl = {}));\r\n        let _Aperture;\r\n        (function (_Aperture) {\r\n            class _ApertureImage extends Laya.Image {\r\n                constructor(parent, centerPoint, width, height, rotation, urlArr, colorRGBA, zOrder) {\r\n                    super();\r\n                    if (!parent.parent) {\r\n                        return;\r\n                    }\r\n                    parent.addChild(this);\r\n                    centerPoint ? this.pos(centerPoint.x, centerPoint.y) : this.pos(0, 0);\r\n                    this.width = width ? width : 100;\r\n                    this.height = height ? height : 100;\r\n                    this.pivotX = this.width / 2;\r\n                    this.pivotY = this.height / 2;\r\n                    this.rotation = rotation ? Tools.randomOneNumber(rotation[0], rotation[1]) : Tools.randomOneNumber(360);\r\n                    this.skin = urlArr ? Tools.arrayRandomGetOne(urlArr) : _SkinUrl.花3;\r\n                    this.zOrder = zOrder ? zOrder : 0;\r\n                    this.alpha = 0;\r\n                    let RGBA = [];\r\n                    RGBA[0] = colorRGBA ? Tools.randomOneNumber(colorRGBA[0][0], colorRGBA[1][0]) : Tools.randomOneNumber(0, 255);\r\n                    RGBA[1] = colorRGBA ? Tools.randomOneNumber(colorRGBA[0][1], colorRGBA[1][1]) : Tools.randomOneNumber(0, 255);\r\n                    RGBA[2] = colorRGBA ? Tools.randomOneNumber(colorRGBA[0][2], colorRGBA[1][2]) : Tools.randomOneNumber(0, 255);\r\n                    RGBA[3] = colorRGBA ? Tools.randomOneNumber(colorRGBA[0][3], colorRGBA[1][3]) : Tools.randomOneNumber(0, 255);\r\n                    Color._colour(this, RGBA);\r\n                }\r\n            }\r\n            _Aperture._ApertureImage = _ApertureImage;\r\n            function _continuous(parent, centerPoint, width, height, rotation, urlArr, colorRGBA, zOrder, scale, speed, accelerated) {\r\n                let Img = new _ApertureImage(parent, centerPoint, width, height, rotation, urlArr, colorRGBA, zOrder);\r\n                let _speed = speed ? Tools.randomOneNumber(speed[0], speed[1]) : 0.025;\r\n                let _accelerated = accelerated ? Tools.randomOneNumber(accelerated[0], accelerated[1]) : 0.0005;\r\n                let _scale = scale ? Tools.randomOneNumber(scale[0], scale[1]) : 2;\r\n                let moveCaller = {\r\n                    alpha: true,\r\n                    scale: false,\r\n                    vanish: false\r\n                };\r\n                Img['moveCaller'] = moveCaller;\r\n                let acc = 0;\r\n                TimerAdmin._frameLoop(1, moveCaller, () => {\r\n                    if (moveCaller.alpha) {\r\n                        Img.alpha += 0.05;\r\n                        acc = 0;\r\n                        if (Img.alpha >= 1) {\r\n                            moveCaller.alpha = false;\r\n                            moveCaller.scale = true;\r\n                        }\r\n                    }\r\n                    else if (moveCaller.scale) {\r\n                        acc += _accelerated;\r\n                        if (Img.scaleX > _scale) {\r\n                            moveCaller.scale = false;\r\n                            moveCaller.vanish = true;\r\n                        }\r\n                    }\r\n                    else if (moveCaller.vanish) {\r\n                        acc -= _accelerated;\r\n                        if (acc < 0) {\r\n                            Img.alpha -= 0.015;\r\n                            if (Img.alpha <= 0) {\r\n                                Img.removeSelf();\r\n                                Laya.timer.clearAll(moveCaller);\r\n                            }\r\n                        }\r\n                    }\r\n                    Img.scaleX = Img.scaleY += (_speed + acc);\r\n                });\r\n            }\r\n            _Aperture._continuous = _continuous;\r\n        })(_Aperture = Effects._Aperture || (Effects._Aperture = {}));\r\n        let _Particle;\r\n        (function (_Particle) {\r\n            class _ParticleImgBase extends Laya.Image {\r\n                constructor(parent, centerPoint, sectionWH, width, height, rotation, urlArr, colorRGBA, zOrder) {\r\n                    super();\r\n                    parent.addChild(this);\r\n                    let sectionWidth = sectionWH ? Tools.randomOneNumber(sectionWH[0]) : Tools.randomOneNumber(200);\r\n                    let sectionHeight = sectionWH ? Tools.randomOneNumber(sectionWH[1]) : Tools.randomOneNumber(50);\r\n                    sectionWidth = Tools.randomOneHalf() == 0 ? sectionWidth : -sectionWidth;\r\n                    sectionHeight = Tools.randomOneHalf() == 0 ? sectionHeight : -sectionHeight;\r\n                    this.x = centerPoint ? centerPoint.x + sectionWidth : sectionWidth;\r\n                    this.y = centerPoint ? centerPoint.y + sectionHeight : sectionHeight;\r\n                    this.width = width ? Tools.randomOneNumber(width[0], width[1]) : Tools.randomOneNumber(20, 50);\r\n                    this.height = height ? Tools.randomOneNumber(height[0], height[1]) : this.width;\r\n                    this.pivotX = this.width / 2;\r\n                    this.pivotY = this.height / 2;\r\n                    this.skin = urlArr ? Tools.arrayRandomGetOne(urlArr) : _SkinUrl.圆形1;\r\n                    this.rotation = rotation ? Tools.randomOneNumber(rotation[0], rotation[1]) : 0;\r\n                    this.alpha = 0;\r\n                    this.zOrder = zOrder ? zOrder : 0;\r\n                    let RGBA = [];\r\n                    RGBA[0] = colorRGBA ? Tools.randomOneNumber(colorRGBA[0][0], colorRGBA[1][0]) : Tools.randomOneNumber(0, 255);\r\n                    RGBA[1] = colorRGBA ? Tools.randomOneNumber(colorRGBA[0][1], colorRGBA[1][1]) : Tools.randomOneNumber(0, 255);\r\n                    RGBA[2] = colorRGBA ? Tools.randomOneNumber(colorRGBA[0][2], colorRGBA[1][2]) : Tools.randomOneNumber(0, 255);\r\n                    RGBA[3] = colorRGBA ? Tools.randomOneNumber(colorRGBA[0][3], colorRGBA[1][3]) : Tools.randomOneNumber(0, 255);\r\n                    Color._colour(this, RGBA);\r\n                }\r\n            }\r\n            _Particle._ParticleImgBase = _ParticleImgBase;\r\n            function _snow(parent, centerPoint, sectionWH, width, height, rotation, urlArr, colorRGBA, zOrder, distance, rotationSpeed, speed, windX) {\r\n                let Img = new _ParticleImgBase(parent, centerPoint, sectionWH, width, height, rotation, urlArr, colorRGBA, zOrder);\r\n                let _rotationSpeed = rotationSpeed ? Tools.randomOneNumber(rotationSpeed[0], rotationSpeed[1]) : Tools.randomOneNumber(0, 1);\r\n                _rotationSpeed = Tools.randomOneHalf() == 0 ? _rotationSpeed : -_rotationSpeed;\r\n                let speed0 = speed ? Tools.randomOneNumber(speed[0], speed[1]) : Tools.randomOneNumber(1, 2.5);\r\n                let _windX = windX ? Tools.randomOneNumber(windX[0], windX[1]) : 0;\r\n                let moveCaller = {\r\n                    alpha: true,\r\n                    move: false,\r\n                    vinish: false,\r\n                };\r\n                Img['moveCaller'] = moveCaller;\r\n                let distance0 = 0;\r\n                let distance1 = distance ? Tools.randomOneNumber(distance[0], distance[1]) : Tools.randomOneNumber(100, 300);\r\n                TimerAdmin._frameLoop(1, moveCaller, () => {\r\n                    Img.x += _windX;\r\n                    Img.rotation += _rotationSpeed;\r\n                    if (Img.alpha < 1 && moveCaller.alpha) {\r\n                        Img.alpha += 0.05;\r\n                        distance0 = Img.y++;\r\n                        if (Img.alpha >= 1) {\r\n                            moveCaller.alpha = false;\r\n                            moveCaller.move = true;\r\n                        }\r\n                    }\r\n                    if (distance0 < distance1 && moveCaller.move) {\r\n                        distance0 = Img.y += speed0;\r\n                        if (distance0 >= distance1) {\r\n                            moveCaller.move = false;\r\n                            moveCaller.vinish = true;\r\n                        }\r\n                    }\r\n                    if (moveCaller.vinish) {\r\n                        Img.alpha -= 0.03;\r\n                        Img.y += speed0;\r\n                        if (Img.alpha <= 0 || speed0 <= 0) {\r\n                            Img.removeSelf();\r\n                            Laya.timer.clearAll(moveCaller);\r\n                        }\r\n                    }\r\n                });\r\n                return Img;\r\n            }\r\n            _Particle._snow = _snow;\r\n            function _fallingVertical(parent, centerPoint, sectionWH, width, height, rotation, urlArr, colorRGBA, zOrder, distance, speed, accelerated) {\r\n                let Img = new _ParticleImgBase(parent, centerPoint, sectionWH, width, height, rotation, urlArr, colorRGBA, zOrder);\r\n                let speed0 = speed ? Tools.randomOneNumber(speed[0], speed[1]) : Tools.randomOneNumber(4, 8);\r\n                let accelerated0 = accelerated ? Tools.randomOneNumber(accelerated[0], accelerated[1]) : Tools.randomOneNumber(0.25, 0.45);\r\n                let acc = 0;\r\n                let moveCaller = {\r\n                    alpha: true,\r\n                    move: false,\r\n                    vinish: false,\r\n                };\r\n                Img['moveCaller'] = moveCaller;\r\n                let distance0 = 0;\r\n                let distance1 = distance ? Tools.randomOneNumber(distance[0], distance[1]) : Tools.randomOneNumber(100, 300);\r\n                TimerAdmin._frameLoop(1, moveCaller, () => {\r\n                    if (Img.alpha < 1 && moveCaller.alpha) {\r\n                        Img.alpha += 0.05;\r\n                        distance0 = Img.y++;\r\n                        if (Img.alpha >= 1) {\r\n                            moveCaller.alpha = false;\r\n                            moveCaller.move = true;\r\n                        }\r\n                    }\r\n                    if (distance0 < distance1 && moveCaller.move) {\r\n                        acc += accelerated0;\r\n                        distance0 = Img.y += (speed0 + acc);\r\n                        if (distance0 >= distance1) {\r\n                            moveCaller.move = false;\r\n                            moveCaller.vinish = true;\r\n                        }\r\n                    }\r\n                    if (moveCaller.vinish) {\r\n                        acc -= accelerated0 / 2;\r\n                        Img.alpha -= 0.03;\r\n                        Img.y += (speed0 + acc);\r\n                        if (Img.alpha <= 0 || (speed0 + acc) <= 0) {\r\n                            Img.removeSelf();\r\n                            Laya.timer.clearAll(moveCaller);\r\n                        }\r\n                    }\r\n                });\r\n                return Img;\r\n            }\r\n            _Particle._fallingVertical = _fallingVertical;\r\n            function _slowlyUp(parent, centerPoint, sectionWH, width, height, rotation, urlArr, colorRGBA, zOrder, distance, speed, accelerated) {\r\n                let Img = new _ParticleImgBase(parent, centerPoint, sectionWH, width, height, rotation, urlArr, colorRGBA, zOrder);\r\n                let speed0 = speed ? Tools.randomOneNumber(speed[0], speed[1]) : Tools.randomOneNumber(1.5, 2);\r\n                let accelerated0 = accelerated ? Tools.randomOneNumber(accelerated[0], accelerated[1]) : Tools.randomOneNumber(0.001, 0.005);\r\n                let acc = 0;\r\n                let moveCaller = {\r\n                    alpha: true,\r\n                    move: false,\r\n                    vinish: false,\r\n                };\r\n                Img['moveCaller'] = moveCaller;\r\n                let fy = Img.y;\r\n                let distance0 = 0;\r\n                let distance1 = distance ? Tools.randomOneNumber(distance[0], distance[1]) : Tools.randomOneNumber(-250, -600);\r\n                TimerAdmin._frameLoop(1, moveCaller, () => {\r\n                    if (Img.alpha < 1 && moveCaller.alpha) {\r\n                        Img.alpha += 0.03;\r\n                        if (Img.alpha >= 1) {\r\n                            moveCaller.alpha = false;\r\n                            moveCaller.move = true;\r\n                        }\r\n                    }\r\n                    if (distance0 > distance1 && moveCaller.move) {\r\n                    }\r\n                    else {\r\n                        moveCaller.move = false;\r\n                        moveCaller.vinish = true;\r\n                    }\r\n                    if (moveCaller.vinish) {\r\n                        Img.alpha -= 0.02;\r\n                        Img.scaleX -= 0.005;\r\n                        Img.scaleY -= 0.005;\r\n                        if (Img.alpha <= 0) {\r\n                            Img.removeSelf();\r\n                            Laya.timer.clearAll(moveCaller);\r\n                        }\r\n                    }\r\n                    acc += accelerated0;\r\n                    Img.y -= (speed0 + acc);\r\n                    distance0 = fy - Img.y;\r\n                });\r\n                return Img;\r\n            }\r\n            _Particle._slowlyUp = _slowlyUp;\r\n            function _spray(parent, centerPoint, sectionWH, width, height, rotation, urlArr, colorRGBA, zOrder, moveAngle, distance, rotationSpeed, speed, accelerated) {\r\n                let Img = new _ParticleImgBase(parent, centerPoint, [0, 0], width, height, rotation, urlArr, colorRGBA, zOrder);\r\n                let centerPoint0 = centerPoint ? centerPoint : new Laya.Point(0, 0);\r\n                let speed0 = speed ? Tools.randomOneNumber(speed[0], speed[1]) : Tools.randomOneNumber(3, 10);\r\n                let accelerated0 = accelerated ? Tools.randomOneNumber(accelerated[0], accelerated[1]) : Tools.randomOneNumber(0.25, 0.45);\r\n                let acc = 0;\r\n                let moveCaller = {\r\n                    alpha: true,\r\n                    move: false,\r\n                    vinish: false,\r\n                };\r\n                Img['moveCaller'] = moveCaller;\r\n                let radius = 0;\r\n                let distance1 = distance ? Tools.randomOneNumber(distance[0], distance[1]) : Tools.randomOneNumber(100, 200);\r\n                let angle0 = moveAngle ? Tools.randomOneNumber(moveAngle[0], moveAngle[1]) : Tools.randomOneNumber(0, 360);\r\n                let rotationSpeed0 = rotationSpeed ? Tools.randomOneNumber(rotationSpeed[0], rotationSpeed[1]) : Tools.randomOneNumber(0, 20);\r\n                TimerAdmin._frameLoop(1, moveCaller, () => {\r\n                    Img.rotation += rotationSpeed0;\r\n                    if (Img.alpha < 1 && moveCaller.alpha) {\r\n                        Img.alpha += 0.5;\r\n                        if (Img.alpha >= 1) {\r\n                            moveCaller.alpha = false;\r\n                            moveCaller.move = true;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (radius < distance1 && moveCaller.move) {\r\n                        }\r\n                        else {\r\n                            moveCaller.move = false;\r\n                            moveCaller.vinish = true;\r\n                        }\r\n                        if (moveCaller.vinish) {\r\n                            Img.alpha -= 0.05;\r\n                            if (Img.alpha <= 0.3) {\r\n                                Img.removeSelf();\r\n                                Laya.timer.clearAll(moveCaller);\r\n                            }\r\n                        }\r\n                        acc += accelerated0;\r\n                        radius += speed0 + acc;\r\n                        let point = Tools.Point.getRoundPos(angle0, radius, centerPoint0);\r\n                        Img.pos(point.x, point.y);\r\n                    }\r\n                });\r\n                return Img;\r\n            }\r\n            _Particle._spray = _spray;\r\n            function _outsideBox(parent, centerPoint, sectionWH, width, height, rotation, urlArr, colorRGBA, zOrder, curtailAngle, distance, rotateSpeed, speed, accelerated) {\r\n                let Img = new _ParticleImgBase(parent, centerPoint, [0, 0], width, height, rotation, urlArr, colorRGBA, zOrder);\r\n                let _angle = 0;\r\n                sectionWH = sectionWH ? sectionWH : [100, 100];\r\n                let fixedXY = Tools.randomOneHalf() == 0 ? 'x' : 'y';\r\n                curtailAngle = curtailAngle ? curtailAngle : 60;\r\n                if (fixedXY == 'x') {\r\n                    if (Tools.randomOneHalf() == 0) {\r\n                        Img.x += sectionWH[0];\r\n                        _angle = Tools.randomOneHalf() == 0 ? Tools.randomOneNumber(0, 90 - curtailAngle) : Tools.randomOneNumber(0, -90 + curtailAngle);\r\n                    }\r\n                    else {\r\n                        Img.x -= sectionWH[0];\r\n                        _angle = Tools.randomOneNumber(90 + curtailAngle, 270 - curtailAngle);\r\n                    }\r\n                    Img.y += Tools.randomOneNumber(-sectionWH[1], sectionWH[1]);\r\n                }\r\n                else {\r\n                    if (Tools.randomOneHalf() == 0) {\r\n                        Img.y -= sectionWH[1];\r\n                        _angle = Tools.randomOneNumber(180 + curtailAngle, 360 - curtailAngle);\r\n                    }\r\n                    else {\r\n                        Img.y += sectionWH[1];\r\n                        _angle = Tools.randomOneNumber(0 + curtailAngle, 180 - curtailAngle);\r\n                    }\r\n                    Img.x += Tools.randomOneNumber(-sectionWH[0], sectionWH[0]);\r\n                }\r\n                let p = Tools.d2_angle_Vector(_angle);\r\n                let _distance = distance ? Tools.randomOneNumber(distance[0], distance[1]) : Tools.randomOneNumber(20, 50);\r\n                let speed0 = speed ? Tools.randomOneNumber(speed[0], speed[1]) : Tools.randomOneNumber(0.5, 1);\r\n                let accelerated0 = accelerated ? Tools.randomOneNumber(accelerated[0], accelerated[1]) : Tools.randomOneNumber(0.25, 0.45);\r\n                let acc = 0;\r\n                let rotationSpeed0 = rotateSpeed ? Tools.randomOneNumber(rotateSpeed[0], rotateSpeed[1]) : Tools.randomOneNumber(0, 20);\r\n                let firstP = new Laya.Point(Img.x, Img.y);\r\n                let moveCaller = {\r\n                    alpha: true,\r\n                    move: false,\r\n                    vinish: false,\r\n                };\r\n                Img['moveCaller'] = moveCaller;\r\n                TimerAdmin._frameLoop(1, moveCaller, () => {\r\n                    Img.rotation += rotationSpeed0;\r\n                    if (moveCaller.alpha) {\r\n                        Img.alpha += 0.5;\r\n                        if (Img.alpha >= 1) {\r\n                            moveCaller.alpha = false;\r\n                            moveCaller.move = true;\r\n                        }\r\n                    }\r\n                    else if (moveCaller.move) {\r\n                        if (firstP.distance(Img.x, Img.y) >= _distance) {\r\n                            moveCaller.move = false;\r\n                            moveCaller.vinish = true;\r\n                        }\r\n                    }\r\n                    else if (moveCaller.vinish) {\r\n                        Img.alpha -= 0.05;\r\n                        if (Img.alpha <= 0.3) {\r\n                            Img.removeSelf();\r\n                            Laya.timer.clearAll(moveCaller);\r\n                        }\r\n                    }\r\n                    if (!moveCaller.alpha) {\r\n                        acc += accelerated0;\r\n                        Img.x += p.x * (speed0 + acc);\r\n                        Img.y += p.y * (speed0 + acc);\r\n                    }\r\n                });\r\n                return Img;\r\n            }\r\n            _Particle._outsideBox = _outsideBox;\r\n            function _moveToTargetToMove(parent, centerPoint, width, height, rotation, angle, urlArr, colorRGBA, zOrder, distance1, distance2, rotationSpeed, speed, accelerated) {\r\n                let Img = new _ParticleImgBase(parent, centerPoint, [0, 0], width, height, rotation, urlArr, colorRGBA, zOrder);\r\n                let centerPoint0 = centerPoint ? centerPoint : new Laya.Point(0, 0);\r\n                let speed0 = speed ? Tools.randomOneNumber(speed[0], speed[1]) : Tools.randomOneNumber(5, 6);\r\n                let accelerated0 = accelerated ? Tools.randomOneNumber(accelerated[0], accelerated[1]) : Tools.randomOneNumber(0.25, 0.45);\r\n                let acc = 0;\r\n                let moveCaller = {\r\n                    alpha: true,\r\n                    move1: false,\r\n                    stop: false,\r\n                    move2: false,\r\n                    vinish: false,\r\n                };\r\n                Img['moveCaller'] = moveCaller;\r\n                let radius = 0;\r\n                let dis1 = distance1 ? Tools.randomOneNumber(distance1[0], distance1[1]) : Tools.randomOneNumber(100, 200);\r\n                let dis2 = distance2 ? Tools.randomOneNumber(distance2[0], distance2[1]) : Tools.randomOneNumber(100, 200);\r\n                let angle0 = angle ? Tools.randomOneNumber(angle[0], angle[1]) : Tools.randomOneNumber(0, 360);\r\n                Img.rotation = angle0 - 90;\r\n                let rotationSpeed0 = rotationSpeed ? Tools.randomOneNumber(rotationSpeed[0], rotationSpeed[1]) : Tools.randomOneNumber(0, 20);\r\n                TimerAdmin._frameLoop(1, moveCaller, () => {\r\n                    if (moveCaller.alpha) {\r\n                        acc += accelerated0;\r\n                        radius += speed0 + acc;\r\n                        Img.alpha += 0.5;\r\n                        if (Img.alpha >= 1) {\r\n                            moveCaller.alpha = false;\r\n                            moveCaller.move1 = true;\r\n                        }\r\n                    }\r\n                    else if (moveCaller.move1) {\r\n                        acc += accelerated0;\r\n                        radius += speed0 + acc;\r\n                        if (radius >= dis1) {\r\n                            moveCaller.move1 = false;\r\n                            moveCaller.stop = true;\r\n                        }\r\n                    }\r\n                    else if (moveCaller.stop) {\r\n                        acc -= 0.3;\r\n                        radius += 0.1;\r\n                        if (acc <= 0) {\r\n                            moveCaller.stop = false;\r\n                            moveCaller.move2 = true;\r\n                        }\r\n                    }\r\n                    else if (moveCaller.move2) {\r\n                        acc += accelerated0 / 2;\r\n                        radius += speed0 + acc;\r\n                        if (radius >= dis1 + dis2) {\r\n                            moveCaller.move2 = false;\r\n                            moveCaller.vinish = true;\r\n                        }\r\n                    }\r\n                    else if (moveCaller.vinish) {\r\n                        radius += 0.5;\r\n                        Img.alpha -= 0.05;\r\n                        if (Img.alpha <= 0) {\r\n                            Img.removeSelf();\r\n                            Laya.timer.clearAll(moveCaller);\r\n                        }\r\n                    }\r\n                    let point = Tools.Point.getRoundPos(angle0, radius, centerPoint0);\r\n                    Img.pos(point.x, point.y);\r\n                });\r\n                return Img;\r\n            }\r\n            _Particle._moveToTargetToMove = _moveToTargetToMove;\r\n            function _AnnularInhalation(parent, centerPoint, radius, rotation, width, height, urlArr, speed, accelerated, zOrder) {\r\n                let Img = new Laya.Image();\r\n                parent.addChild(Img);\r\n                width = width ? width : [25, 50];\r\n                Img.width = Tools.randomCountNumer(width[0], width[1])[0];\r\n                Img.height = height ? Tools.randomCountNumer(height[0], height[1])[0] : Img.width;\r\n                Img.pivotX = Img.width / 2;\r\n                Img.pivotY = Img.height / 2;\r\n                Img.skin = urlArr ? Tools.arrayRandomGetOut(urlArr)[0] : _SkinUrl[Tools.randomCountNumer(0, 12)[0]];\r\n                let radius0 = Tools.randomCountNumer(radius[0], radius[1])[0];\r\n                Img.alpha = 0;\r\n                let speed0 = speed ? Tools.randomCountNumer(speed[0], speed[1])[0] : Tools.randomCountNumer(5, 10)[0];\r\n                let angle = rotation ? Tools.randomCountNumer(rotation[0], rotation[1])[0] : Tools.randomCountNumer(0, 360)[0];\r\n                let caller = {};\r\n                let acc = 0;\r\n                accelerated = accelerated ? accelerated : 0.35;\r\n                TimerAdmin._frameLoop(1, caller, () => {\r\n                    if (Img.alpha < 1) {\r\n                        Img.alpha += 0.05;\r\n                        acc += (accelerated / 5);\r\n                        radius0 -= (speed0 / 2 + acc);\r\n                    }\r\n                    else {\r\n                        acc += accelerated;\r\n                        radius0 -= (speed0 + acc);\r\n                    }\r\n                    let point = Tools.Point.getRoundPos(angle, radius0, centerPoint);\r\n                    Img.pos(point.x, point.y);\r\n                    if (point.distance(centerPoint.x, centerPoint.y) <= 20 || point.distance(centerPoint.x, centerPoint.y) >= 1000) {\r\n                        Img.removeSelf();\r\n                        Laya.timer.clearAll(caller);\r\n                    }\r\n                });\r\n                return Img;\r\n            }\r\n            _Particle._AnnularInhalation = _AnnularInhalation;\r\n        })(_Particle = Effects._Particle || (Effects._Particle = {}));\r\n        let _Glitter;\r\n        (function (_Glitter) {\r\n            class _GlitterImage extends Laya.Image {\r\n                constructor(parent, centerPos, radiusXY, urlArr, colorRGBA, width, height) {\r\n                    super();\r\n                    if (!parent.parent) {\r\n                        return;\r\n                    }\r\n                    parent.addChild(this);\r\n                    this.skin = urlArr ? Tools.arrayRandomGetOne(urlArr) : _SkinUrl.星星1;\r\n                    this.width = width ? Tools.randomOneNumber(width[0], width[1]) : 80;\r\n                    this.height = height ? Tools.randomOneNumber(height[0], height[1]) : this.width;\r\n                    this.pivotX = this.width / 2;\r\n                    this.pivotY = this.height / 2;\r\n                    let p = radiusXY ? Tools.Point.randomPointByCenter(centerPos, radiusXY[0], radiusXY[1], 1) : Tools.Point.randomPointByCenter(centerPos, 100, 100, 1);\r\n                    this.pos(p[0].x, p[0].y);\r\n                    let RGBA = [];\r\n                    RGBA[0] = colorRGBA ? Tools.randomOneNumber(colorRGBA[0][0], colorRGBA[1][0]) : Tools.randomOneNumber(0, 255);\r\n                    RGBA[1] = colorRGBA ? Tools.randomOneNumber(colorRGBA[0][1], colorRGBA[1][1]) : Tools.randomOneNumber(0, 255);\r\n                    RGBA[2] = colorRGBA ? Tools.randomOneNumber(colorRGBA[0][2], colorRGBA[1][2]) : Tools.randomOneNumber(0, 255);\r\n                    RGBA[3] = colorRGBA ? Tools.randomOneNumber(colorRGBA[0][3], colorRGBA[1][3]) : Tools.randomOneNumber(0, 255);\r\n                    Color._colour(this, RGBA);\r\n                    this.alpha = 0;\r\n                }\r\n            }\r\n            _Glitter._GlitterImage = _GlitterImage;\r\n            function _blinkStar(parent, centerPos, radiusXY, urlArr, colorRGBA, width, height, scale, speed, rotateSpeed) {\r\n                let Img = new _GlitterImage(parent, centerPos, radiusXY, urlArr, colorRGBA, width, height);\r\n                Img.scaleX = 0;\r\n                Img.scaleY = 0;\r\n                let _scale = scale ? Tools.randomOneNumber(scale[0], scale[1]) : Tools.randomOneNumber(0.8, 1.2);\r\n                let _speed = speed ? Tools.randomOneNumber(speed[0], speed[1]) : Tools.randomOneNumber(0.01, 0.02);\r\n                let _rotateSpeed = rotateSpeed ? Tools.randomOneInt(rotateSpeed[0], rotateSpeed[1]) : Tools.randomOneInt(0, 5);\r\n                _rotateSpeed = Tools.randomOneHalf() == 0 ? -_rotateSpeed : _rotateSpeed;\r\n                let moveCaller = {\r\n                    appear: true,\r\n                    scale: false,\r\n                    vanish: false,\r\n                };\r\n                Img['moveCaller'] = moveCaller;\r\n                var ani = () => {\r\n                    if (moveCaller.appear) {\r\n                        Img.alpha += 0.1;\r\n                        Img.rotation += _rotateSpeed;\r\n                        Img.scaleX = Img.scaleY += _speed;\r\n                        if (Img.alpha >= 1) {\r\n                            moveCaller.appear = false;\r\n                            moveCaller.scale = true;\r\n                        }\r\n                    }\r\n                    else if (moveCaller.scale) {\r\n                        Img.rotation += _rotateSpeed;\r\n                        Img.scaleX = Img.scaleY += _speed;\r\n                        if (Img.scaleX > _scale) {\r\n                            moveCaller.scale = false;\r\n                            moveCaller.vanish = true;\r\n                        }\r\n                    }\r\n                    else if (moveCaller.vanish) {\r\n                        Img.rotation -= _rotateSpeed;\r\n                        Img.alpha -= 0.015;\r\n                        Img.scaleX -= 0.01;\r\n                        Img.scaleY -= 0.01;\r\n                        if (Img.scaleX <= 0) {\r\n                            Img.removeSelf();\r\n                            Laya.timer.clearAll(moveCaller);\r\n                        }\r\n                    }\r\n                };\r\n                Laya.timer.frameLoop(1, moveCaller, ani);\r\n                return Img;\r\n            }\r\n            _Glitter._blinkStar = _blinkStar;\r\n            function _simpleInfinite(parent, x, y, width, height, zOrder, url, speed) {\r\n                let Img = new Laya.Image();\r\n                parent.addChild(Img);\r\n                Img.width = width;\r\n                Img.height = height;\r\n                Img.pos(x, y);\r\n                Img.skin = url ? url : _SkinUrl.光圈1;\r\n                Img.alpha = 0;\r\n                Img.zOrder = zOrder ? zOrder : 0;\r\n                let add = true;\r\n                let caller = {};\r\n                let func = () => {\r\n                    if (!add) {\r\n                        Img.alpha -= speed ? speed : 0.01;\r\n                        if (Img.alpha <= 0) {\r\n                            if (caller['end']) {\r\n                                Laya.timer.clearAll(caller);\r\n                                Img.removeSelf();\r\n                            }\r\n                            else {\r\n                                add = true;\r\n                            }\r\n                        }\r\n                    }\r\n                    else {\r\n                        Img.alpha += speed ? speed * 2 : 0.01 * 2;\r\n                        if (Img.alpha >= 1) {\r\n                            add = false;\r\n                            caller['end'] = true;\r\n                        }\r\n                    }\r\n                };\r\n                Laya.timer.frameLoop(1, caller, func);\r\n                return Img;\r\n            }\r\n            _Glitter._simpleInfinite = _simpleInfinite;\r\n        })(_Glitter = Effects._Glitter || (Effects._Glitter = {}));\r\n        let _circulation;\r\n        (function (_circulation) {\r\n            class _circulationImage extends Laya.Image {\r\n                constructor(parent, urlArr, colorRGBA, width, height, zOrder) {\r\n                    super();\r\n                    parent.addChild(this);\r\n                    this.skin = urlArr ? Tools.arrayRandomGetOne(urlArr) : _SkinUrl.圆形发光1;\r\n                    this.width = width ? Tools.randomOneNumber(width[0], width[1]) : 80;\r\n                    this.height = height ? Tools.randomOneNumber(height[0], height[1]) : this.width;\r\n                    this.pivotX = this.width / 2;\r\n                    this.pivotY = this.height / 2;\r\n                    let RGBA = [];\r\n                    RGBA[0] = colorRGBA ? Tools.randomOneNumber(colorRGBA[0][0], colorRGBA[1][0]) : Tools.randomOneNumber(0, 255);\r\n                    RGBA[1] = colorRGBA ? Tools.randomOneNumber(colorRGBA[0][1], colorRGBA[1][1]) : Tools.randomOneNumber(0, 255);\r\n                    RGBA[2] = colorRGBA ? Tools.randomOneNumber(colorRGBA[0][2], colorRGBA[1][2]) : Tools.randomOneNumber(0, 255);\r\n                    RGBA[3] = colorRGBA ? Tools.randomOneNumber(colorRGBA[0][3], colorRGBA[1][3]) : Tools.randomOneNumber(0, 255);\r\n                    Color._colour(this, RGBA);\r\n                    this.zOrder = zOrder ? zOrder : 0;\r\n                    this.alpha = 0;\r\n                    this.scaleX = 0;\r\n                    this.scaleY = 0;\r\n                }\r\n            }\r\n            _circulation._circulationImage = _circulationImage;\r\n            function _corner(parent, posArray, urlArr, colorRGBA, width, height, zOrder, parallel, speed) {\r\n                if (posArray.length <= 1) {\r\n                    return;\r\n                }\r\n                let Img = new _circulationImage(parent, urlArr, colorRGBA, width, height, zOrder);\r\n                let Imgfootprint = new _circulationImage(parent, urlArr, colorRGBA, width, height, zOrder);\r\n                Imgfootprint.filters = Img.filters;\r\n                Img.pos(posArray[0][0], posArray[0][1]);\r\n                Img.alpha = 1;\r\n                let moveCaller = {\r\n                    num: 0,\r\n                    alpha: true,\r\n                    move: false,\r\n                };\r\n                Img['moveCaller'] = moveCaller;\r\n                let _speed = speed ? speed : 3;\r\n                let index = 0;\r\n                Img.scale(1, 1);\r\n                TimerAdmin._frameLoop(1, moveCaller, () => {\r\n                    let Imgfootprint = new _circulationImage(parent, urlArr, colorRGBA, width, height, zOrder);\r\n                    Imgfootprint.filters = Img.filters;\r\n                    Imgfootprint.x = Img.x;\r\n                    Imgfootprint.y = Img.y;\r\n                    Imgfootprint.rotation = Img.rotation;\r\n                    Imgfootprint.alpha = 1;\r\n                    Imgfootprint.zOrder = -1;\r\n                    Imgfootprint.scaleX = Img.scaleX;\r\n                    Imgfootprint.scaleY = Img.scaleY;\r\n                    Animation2D.fadeOut(Imgfootprint, 1, 0, 200, 0, () => {\r\n                        Imgfootprint.removeSelf();\r\n                    });\r\n                    if (Img.parent == null) {\r\n                        Laya.timer.clearAll(moveCaller);\r\n                    }\r\n                    moveCaller.num++;\r\n                    if (urlArr) {\r\n                        if (moveCaller.num > urlArr.length) {\r\n                            moveCaller.num = 0;\r\n                        }\r\n                        else {\r\n                            Img.skin = urlArr[moveCaller.num];\r\n                        }\r\n                    }\r\n                });\r\n                var func = () => {\r\n                    let targetXY = [posArray[index][0], posArray[index][1]];\r\n                    let distance = (new Laya.Point(Img.x, Img.y)).distance(targetXY[0], targetXY[1]);\r\n                    if (parallel) {\r\n                        Img.rotation = Tools.d2_Vector_Angle(Img.x - targetXY[0], Img.y - targetXY[1]) + 180;\r\n                    }\r\n                    let time = speed * 100 + distance / 5;\r\n                    if (index == posArray.length + 1) {\r\n                        targetXY = [posArray[0][0], posArray[0][1]];\r\n                    }\r\n                    Animation2D.move_Simple(Img, Img.x, Img.y, targetXY[0], targetXY[1], time, 0, () => {\r\n                        index++;\r\n                        if (index == posArray.length) {\r\n                            index = 0;\r\n                        }\r\n                        func();\r\n                    });\r\n                };\r\n                func();\r\n                return Img;\r\n            }\r\n            _circulation._corner = _corner;\r\n        })(_circulation = Effects._circulation || (Effects._circulation = {}));\r\n    })(Effects = lwg.Effects || (lwg.Effects = {}));\r\n    let Click;\r\n    (function (Click) {\r\n        function _createButton() {\r\n            let Btn = new Laya.Sprite();\r\n            let img = new Laya.Image();\r\n            let label = new Laya.Label();\r\n        }\r\n        Click._createButton = _createButton;\r\n        Click._Effect = {\r\n            use: 'largen',\r\n            type: {\r\n                no: 'no',\r\n                largen: 'largen',\r\n                balloon: 'balloon',\r\n                beetle: 'beetle',\r\n            },\r\n        };\r\n        function _on(effect, target, caller, down, move, up, out) {\r\n            let btnEffect;\r\n            switch (effect) {\r\n                case Click._Effect.type.no:\r\n                    btnEffect = new Btn_NoEffect();\r\n                    break;\r\n                case Click._Effect.type.largen:\r\n                    btnEffect = new Btn_LargenEffect();\r\n                    break;\r\n                case Click._Effect.type.balloon:\r\n                    btnEffect = new Btn_Balloon();\r\n                    break;\r\n                case Click._Effect.type.balloon:\r\n                    btnEffect = new Btn_Beetle();\r\n                    break;\r\n                default:\r\n                    btnEffect = new Btn_LargenEffect();\r\n                    break;\r\n            }\r\n            target.on(Laya.Event.MOUSE_DOWN, caller, down);\r\n            target.on(Laya.Event.MOUSE_MOVE, caller, move);\r\n            target.on(Laya.Event.MOUSE_UP, caller, up);\r\n            target.on(Laya.Event.MOUSE_OUT, caller, out);\r\n            target.on(Laya.Event.MOUSE_DOWN, caller, btnEffect.down);\r\n            target.on(Laya.Event.MOUSE_MOVE, caller, btnEffect.move);\r\n            target.on(Laya.Event.MOUSE_UP, caller, btnEffect.up);\r\n            target.on(Laya.Event.MOUSE_OUT, caller, btnEffect.out);\r\n        }\r\n        Click._on = _on;\r\n        function _off(effect, target, caller, down, move, up, out) {\r\n            let btnEffect;\r\n            switch (effect) {\r\n                case Click._Effect.type.no:\r\n                    btnEffect = new Btn_NoEffect();\r\n                    break;\r\n                case Click._Effect.type.largen:\r\n                    btnEffect = new Btn_LargenEffect();\r\n                    break;\r\n                case Click._Effect.type.balloon:\r\n                    btnEffect = new Btn_Balloon();\r\n                    break;\r\n                case Click._Effect.type.balloon:\r\n                    btnEffect = new Btn_Beetle();\r\n                    break;\r\n                default:\r\n                    btnEffect = new Btn_LargenEffect();\r\n                    break;\r\n            }\r\n            target._off(Laya.Event.MOUSE_DOWN, caller, down);\r\n            target._off(Laya.Event.MOUSE_MOVE, caller, move);\r\n            target._off(Laya.Event.MOUSE_UP, caller, up);\r\n            target._off(Laya.Event.MOUSE_OUT, caller, out);\r\n            target._off(Laya.Event.MOUSE_DOWN, caller, btnEffect.down);\r\n            target._off(Laya.Event.MOUSE_MOVE, caller, btnEffect.move);\r\n            target._off(Laya.Event.MOUSE_UP, caller, btnEffect.up);\r\n            target._off(Laya.Event.MOUSE_OUT, caller, btnEffect.out);\r\n        }\r\n        Click._off = _off;\r\n    })(Click = lwg.Click || (lwg.Click = {}));\r\n    class Btn_NoEffect {\r\n        constructor() {\r\n        }\r\n        down(event) {\r\n        }\r\n        move(event) {\r\n        }\r\n        up(event) {\r\n        }\r\n        out(event) {\r\n        }\r\n    }\r\n    lwg.Btn_NoEffect = Btn_NoEffect;\r\n    class Btn_LargenEffect {\r\n        constructor() {\r\n        }\r\n        down(event) {\r\n            event.currentTarget.scale(1.1, 1.1);\r\n            PalyAudio.playSound(Click._audioUrl);\r\n        }\r\n        move(event) {\r\n        }\r\n        up(event) {\r\n            event.currentTarget.scale(1, 1);\r\n        }\r\n        out(event) {\r\n            event.currentTarget.scale(1, 1);\r\n        }\r\n    }\r\n    lwg.Btn_LargenEffect = Btn_LargenEffect;\r\n    class Btn_Balloon {\r\n        constructor() {\r\n        }\r\n        down(event) {\r\n            event.currentTarget.scale(Click._balloonScale + 0.06, Click._balloonScale + 0.06);\r\n            PalyAudio.playSound(Click._audioUrl);\r\n        }\r\n        up(event) {\r\n            event.currentTarget.scale(Click._balloonScale, Click._balloonScale);\r\n        }\r\n        move(event) {\r\n            event.currentTarget.scale(Click._balloonScale, Click._balloonScale);\r\n        }\r\n        out(event) {\r\n            event.currentTarget.scale(Click._balloonScale, Click._balloonScale);\r\n        }\r\n    }\r\n    lwg.Btn_Balloon = Btn_Balloon;\r\n    class Btn_Beetle {\r\n        constructor() {\r\n        }\r\n        down(event) {\r\n            event.currentTarget.scale(Click._beetleScale + 0.06, Click._beetleScale + 0.06);\r\n            PalyAudio.playSound(Click._audioUrl);\r\n        }\r\n        up(event) {\r\n            event.currentTarget.scale(Click._beetleScale, Click._beetleScale);\r\n        }\r\n        move(event) {\r\n            event.currentTarget.scale(Click._beetleScale, Click._beetleScale);\r\n        }\r\n        out(event) {\r\n            event.currentTarget.scale(Click._beetleScale, Click._beetleScale);\r\n        }\r\n    }\r\n    lwg.Btn_Beetle = Btn_Beetle;\r\n    let Animation3D;\r\n    (function (Animation3D) {\r\n        Animation3D.tweenMap = {};\r\n        Animation3D.frameRate = 1;\r\n        function moveTo(target, toPos, duration, caller, ease, complete, delay = 0, coverBefore = true, update, frame) {\r\n            let position = target.transform.position.clone();\r\n            if (duration == 0 || duration === undefined || duration === null) {\r\n                target.transform.position = toPos.clone();\r\n                complete && complete.apply(caller);\r\n                return;\r\n            }\r\n            if (frame <= 0 || frame === undefined || frame === null) {\r\n                frame = Animation3D.frameRate;\r\n            }\r\n            let updateRenderPos = function () {\r\n                if (target.transform) {\r\n                    target.transform.position = position;\r\n                }\r\n                update && update();\r\n            };\r\n            Laya.timer.once(delay, target, function () {\r\n                Laya.timer.frameLoop(frame, target, updateRenderPos);\r\n            });\r\n            let endTween = function () {\r\n                if (target.transform) {\r\n                    target.transform.position = toPos.clone();\r\n                    Laya.timer.clear(target, updateRenderPos);\r\n                }\r\n                complete && complete.apply(caller);\r\n            };\r\n            let tween = Laya.Tween.to(position, { x: toPos.x, y: toPos.y, z: toPos.z }, duration, ease, Laya.Handler.create(target, endTween), delay, coverBefore);\r\n            if (!Animation3D.tweenMap[target.id]) {\r\n                Animation3D.tweenMap[target.id] = [];\r\n            }\r\n            Animation3D.tweenMap[target.id].push(tween);\r\n        }\r\n        Animation3D.moveTo = moveTo;\r\n        function rotateTo(target, toRotation, duration, caller, ease, complete, delay, coverBefore, update, frame) {\r\n            let rotation = target.transform.localRotationEuler.clone();\r\n            if (duration == 0 || duration === undefined || duration === null) {\r\n                target.transform.localRotationEuler = toRotation.clone();\r\n                complete && complete.apply(caller);\r\n                return;\r\n            }\r\n            if (frame <= 0 || frame === undefined || frame === null) {\r\n                frame = Animation3D.frameRate;\r\n            }\r\n            let updateRenderRotation = function () {\r\n                if (target.transform) {\r\n                    target.transform.localRotationEuler = rotation;\r\n                }\r\n                update && update();\r\n            };\r\n            Laya.timer.once(delay, target, function () {\r\n                Laya.timer.frameLoop(frame, target, updateRenderRotation);\r\n            });\r\n            let endTween = function () {\r\n                if (target.transform) {\r\n                    target.transform.localRotationEuler = toRotation.clone();\r\n                    Laya.timer.clear(target, updateRenderRotation);\r\n                }\r\n                complete && complete.apply(caller);\r\n            };\r\n            let tween = Laya.Tween.to(rotation, { x: toRotation.x, y: toRotation.y, z: toRotation.z }, duration, ease, Laya.Handler.create(target, endTween), delay, coverBefore);\r\n            if (!Animation3D.tweenMap[target.id]) {\r\n                Animation3D.tweenMap[target.id] = [];\r\n            }\r\n            Animation3D.tweenMap[target.id].push(tween);\r\n        }\r\n        Animation3D.rotateTo = rotateTo;\r\n        function scaleTo(target, toScale, duration, caller, ease, complete, delay, coverBefore, update, frame) {\r\n            let localScale = target.transform.localScale.clone();\r\n            if (duration == 0 || duration === undefined || duration === null) {\r\n                target.transform.localScale = toScale.clone();\r\n                complete && complete.apply(caller);\r\n                return;\r\n            }\r\n            if (frame <= 0 || frame === undefined || frame === null) {\r\n                frame = Animation3D.frameRate;\r\n            }\r\n            let updateRenderPos = function () {\r\n                target.transform.localScale = localScale.clone();\r\n                update && update();\r\n            };\r\n            Laya.timer.once(delay, this, function () {\r\n                Laya.timer.frameLoop(frame, target, updateRenderPos);\r\n            });\r\n            let endTween = function () {\r\n                target.transform.localScale = toScale.clone();\r\n                Laya.timer.clear(target, updateRenderPos);\r\n                complete && complete.apply(caller);\r\n            };\r\n            let tween = Laya.Tween.to(localScale, { x: toScale.x, y: toScale.y, z: toScale.z }, duration, ease, Laya.Handler.create(target, endTween), delay, coverBefore);\r\n            if (!Animation3D.tweenMap[target.id]) {\r\n                Animation3D.tweenMap[target.id] = [];\r\n            }\r\n            Animation3D.tweenMap[target.id].push(tween);\r\n        }\r\n        Animation3D.scaleTo = scaleTo;\r\n        function ClearTween(target) {\r\n            let tweens = Animation3D.tweenMap[target.id];\r\n            if (tweens && tweens.length) {\r\n                while (tweens.length > 0) {\r\n                    let tween = tweens.pop();\r\n                    tween.clear();\r\n                }\r\n            }\r\n            Laya.timer.clearAll(target);\r\n        }\r\n        Animation3D.ClearTween = ClearTween;\r\n        function rock(target, range, duration, caller, func, delayed, ease) {\r\n            if (!delayed) {\r\n                delayed = 0;\r\n            }\r\n            let v1 = new Laya.Vector3(target.transform.localRotationEulerX + range.x, target.transform.localRotationEulerY + range.y, target.transform.localRotationEulerZ + range.z);\r\n            rotateTo(target, v1, duration / 2, caller, ease, () => {\r\n                let v2 = new Laya.Vector3(target.transform.localRotationEulerX - range.x * 2, target.transform.localRotationEulerY - range.y * 2, target.transform.localRotationEulerZ - range.z * 2);\r\n                rotateTo(target, v2, duration, caller, ease, () => {\r\n                    let v3 = new Laya.Vector3(target.transform.localRotationEulerX + range.x, target.transform.localRotationEulerY + range.y, target.transform.localRotationEulerZ + range.z);\r\n                    rotateTo(target, v3, duration / 2, caller, ease, () => {\r\n                        if (func) {\r\n                            func();\r\n                        }\r\n                    });\r\n                });\r\n            }, delayed);\r\n        }\r\n        Animation3D.rock = rock;\r\n        function moveRotateTo(Sp3d, Target, duration, caller, ease, complete, delay, coverBefore, update, frame) {\r\n            moveTo(Sp3d, Target.transform.position, duration, caller, ease, null, delay, coverBefore, update, frame);\r\n            rotateTo(Sp3d, Target.transform.localRotationEuler, duration, caller, ease, complete, delay, coverBefore, null, frame);\r\n        }\r\n        Animation3D.moveRotateTo = moveRotateTo;\r\n    })(Animation3D = lwg.Animation3D || (lwg.Animation3D = {}));\r\n    let Animation2D;\r\n    (function (Animation2D) {\r\n        function circulation_scale(node, range, time, delayed, func) {\r\n            Laya.Tween.to(node, { scaleX: 1 + range, scaleY: 1 + range }, time, null, Laya.Handler.create(this, function () {\r\n                Laya.Tween.to(node, { scaleX: 1 - range, scaleY: 1 - range }, time / 2, null, Laya.Handler.create(this, function () {\r\n                    Laya.Tween.to(node, { scaleX: 1, scaleY: 1 }, time / 2, null, Laya.Handler.create(this, function () {\r\n                        if (func) {\r\n                            func();\r\n                        }\r\n                    }), 0);\r\n                }), 0);\r\n            }), delayed ? delayed : 0);\r\n        }\r\n        Animation2D.circulation_scale = circulation_scale;\r\n        function leftRight_Shake(node, range, time, delayed, func, click) {\r\n            if (!delayed) {\r\n                delayed = 0;\r\n            }\r\n            if (!click) {\r\n                Admin._clickLock.switch = true;\r\n            }\r\n            Laya.Tween.to(node, { x: node.x - range }, time, null, Laya.Handler.create(this, function () {\r\n                Laya.Tween.to(node, { x: node.x + range * 2 }, time, null, Laya.Handler.create(this, function () {\r\n                    Laya.Tween.to(node, { x: node.x - range }, time, null, Laya.Handler.create(this, function () {\r\n                        if (func) {\r\n                            func();\r\n                        }\r\n                        if (!click) {\r\n                            Admin._clickLock.switch = false;\r\n                        }\r\n                    }));\r\n                }));\r\n            }), delayed);\r\n        }\r\n        Animation2D.leftRight_Shake = leftRight_Shake;\r\n        function simple_Rotate(node, Frotate, Erotate, time, delayed, func) {\r\n            node.rotation = Frotate;\r\n            if (!delayed) {\r\n                delayed = 0;\r\n            }\r\n            Laya.Tween.to(node, { rotation: Erotate }, time, null, Laya.Handler.create(this, function () {\r\n                if (func) {\r\n                    func();\r\n                }\r\n            }), delayed);\r\n        }\r\n        Animation2D.simple_Rotate = simple_Rotate;\r\n        function upDown_Overturn(node, time, func) {\r\n            Laya.Tween.to(node, { scaleY: 0 }, time, null, Laya.Handler.create(this, function () {\r\n                Laya.Tween.to(node, { scaleY: 1 }, time, null, Laya.Handler.create(this, function () {\r\n                    Laya.Tween.to(node, { scaleY: 0 }, time, null, Laya.Handler.create(this, function () {\r\n                        Laya.Tween.to(node, { scaleY: 1 }, time, null, Laya.Handler.create(this, function () {\r\n                            if (func !== null || func !== undefined) {\r\n                                func();\r\n                            }\r\n                        }), 0);\r\n                    }), 0);\r\n                }), 0);\r\n            }), 0);\r\n        }\r\n        Animation2D.upDown_Overturn = upDown_Overturn;\r\n        function leftRight_Overturn(node, time, func) {\r\n            Laya.Tween.to(node, { scaleX: 0 }, time, null, Laya.Handler.create(this, function () {\r\n                Laya.Tween.to(node, { scaleX: 1 }, time, null, Laya.Handler.create(this, function () {\r\n                    Laya.Tween.to(node, { scaleX: 0 }, time, null, Laya.Handler.create(this, function () {\r\n                        Laya.Tween.to(node, { scaleX: 1 }, time, null, Laya.Handler.create(this, function () {\r\n                        }), 0);\r\n                        if (func !== null) {\r\n                            func();\r\n                        }\r\n                    }), 0);\r\n                }), 0);\r\n            }), 0);\r\n        }\r\n        Animation2D.leftRight_Overturn = leftRight_Overturn;\r\n        function upDwon_Shake(node, range, time, delayed, func) {\r\n            Laya.Tween.to(node, { y: node.y + range }, time, null, Laya.Handler.create(this, function () {\r\n                Laya.Tween.to(node, { y: node.y - range * 2 }, time, null, Laya.Handler.create(this, function () {\r\n                    Laya.Tween.to(node, { y: node.y + range }, time, null, Laya.Handler.create(this, function () {\r\n                        if (func !== null) {\r\n                            func();\r\n                        }\r\n                    }));\r\n                }));\r\n            }), delayed);\r\n        }\r\n        Animation2D.upDwon_Shake = upDwon_Shake;\r\n        function fadeOut(node, alpha1, alpha2, time, delayed, func, stageClick) {\r\n            node.alpha = alpha1;\r\n            if (stageClick) {\r\n                Admin._clickLock.switch = true;\r\n            }\r\n            Laya.Tween.to(node, { alpha: alpha2 }, time, null, Laya.Handler.create(this, function () {\r\n                if (func) {\r\n                    func();\r\n                }\r\n                if (stageClick) {\r\n                    Admin._clickLock.switch = false;\r\n                }\r\n            }), delayed ? delayed : 0);\r\n        }\r\n        Animation2D.fadeOut = fadeOut;\r\n        function fadeOut_KickBack(node, alpha1, alpha2, time, delayed, func) {\r\n            node.alpha = alpha1;\r\n            Laya.Tween.to(node, { alpha: alpha2 }, time, null, Laya.Handler.create(this, function () {\r\n                if (func !== null) {\r\n                    func();\r\n                }\r\n            }), delayed);\r\n        }\r\n        Animation2D.fadeOut_KickBack = fadeOut_KickBack;\r\n        function move_FadeOut(node, firstX, firstY, targetX, targetY, time, delayed, func) {\r\n            node.alpha = 0;\r\n            node.x = firstX;\r\n            node.y = firstY;\r\n            Laya.Tween.to(node, { alpha: 1, x: targetX, y: targetY }, time, null, Laya.Handler.create(this, function () {\r\n                if (func !== null) {\r\n                    func();\r\n                }\r\n            }), delayed);\r\n        }\r\n        Animation2D.move_FadeOut = move_FadeOut;\r\n        function move_Fade_Out(node, firstX, firstY, targetX, targetY, time, delayed, func) {\r\n            node.alpha = 1;\r\n            node.x = firstX;\r\n            node.y = firstY;\r\n            Laya.Tween.to(node, { alpha: 0, x: targetX, y: targetY }, time, null, Laya.Handler.create(this, function () {\r\n                if (func !== null) {\r\n                    func();\r\n                }\r\n            }), delayed);\r\n        }\r\n        Animation2D.move_Fade_Out = move_Fade_Out;\r\n        function move_FadeOut_Scale_01(node, firstX, firstY, targetX, targetY, time, delayed, func) {\r\n            node.alpha = 0;\r\n            node.targetX = 0;\r\n            node.targetY = 0;\r\n            node.x = firstX;\r\n            node.y = firstY;\r\n            Laya.Tween.to(node, { alpha: 1, x: targetX, y: targetY, scaleX: 1, scaleY: 1 }, time, null, Laya.Handler.create(this, function () {\r\n                if (func !== null) {\r\n                    func();\r\n                }\r\n            }), delayed);\r\n        }\r\n        Animation2D.move_FadeOut_Scale_01 = move_FadeOut_Scale_01;\r\n        function move_Scale(node, fScale, fX, fY, tX, tY, eScale, time, delayed, ease, func) {\r\n            node.scaleX = fScale;\r\n            node.scaleY = fScale;\r\n            node.x = fX;\r\n            node.y = fY;\r\n            Laya.Tween.to(node, { x: tX, y: tY, scaleX: eScale, scaleY: eScale }, time, ease ? null : ease, Laya.Handler.create(this, function () {\r\n                if (func) {\r\n                    func();\r\n                }\r\n            }), delayed ? delayed : 0);\r\n        }\r\n        Animation2D.move_Scale = move_Scale;\r\n        function move_rotate() {\r\n        }\r\n        Animation2D.move_rotate = move_rotate;\r\n        function rotate_Scale(target, fRotate, fScaleX, fScaleY, eRotate, eScaleX, eScaleY, time, delayed, func) {\r\n            target.scaleX = fScaleX;\r\n            target.scaleY = fScaleY;\r\n            target.rotation = fRotate;\r\n            Laya.Tween.to(target, { rotation: eRotate, scaleX: eScaleX, scaleY: eScaleY }, time, null, Laya.Handler.create(this, () => {\r\n                if (func) {\r\n                    func();\r\n                }\r\n                target.rotation = 0;\r\n            }), delayed ? delayed : 0);\r\n        }\r\n        Animation2D.rotate_Scale = rotate_Scale;\r\n        function drop_Simple(node, fY, tY, rotation, time, delayed, func) {\r\n            node.y = fY;\r\n            Laya.Tween.to(node, { y: tY, rotation: rotation }, time, Laya.Ease.circOut, Laya.Handler.create(this, function () {\r\n                if (func !== null) {\r\n                    func();\r\n                }\r\n            }), delayed);\r\n        }\r\n        Animation2D.drop_Simple = drop_Simple;\r\n        function drop_KickBack(target, fAlpha, firstY, targetY, extendY, time1, delayed, func) {\r\n            target.alpha = fAlpha;\r\n            target.y = firstY;\r\n            if (!delayed) {\r\n                delayed = 0;\r\n            }\r\n            Laya.Tween.to(target, { alpha: 1, y: targetY + extendY }, time1, null, Laya.Handler.create(this, function () {\r\n                Laya.Tween.to(target, { y: targetY - extendY / 2 }, time1 / 2, null, Laya.Handler.create(this, function () {\r\n                    Laya.Tween.to(target, { y: targetY }, time1 / 4, null, Laya.Handler.create(this, function () {\r\n                        if (func) {\r\n                            func();\r\n                        }\r\n                    }), 0);\r\n                }), 0);\r\n            }), delayed);\r\n        }\r\n        Animation2D.drop_KickBack = drop_KickBack;\r\n        function drop_Excursion(node, targetY, targetX, rotation, time, delayed, func) {\r\n            Laya.Tween.to(node, { x: node.x + targetX, y: node.y + targetY * 1 / 6 }, time, Laya.Ease.expoIn, Laya.Handler.create(this, function () {\r\n                Laya.Tween.to(node, { x: node.x + targetX + 50, y: targetY, rotation: rotation }, time, null, Laya.Handler.create(this, function () {\r\n                    if (func !== null) {\r\n                        func();\r\n                    }\r\n                }), 0);\r\n            }), delayed);\r\n        }\r\n        Animation2D.drop_Excursion = drop_Excursion;\r\n        function goUp_Simple(node, initialY, initialR, targetY, time, delayed, func) {\r\n            node.y = initialY;\r\n            node.rotation = initialR;\r\n            Laya.Tween.to(node, { y: targetY, rotation: 0 }, time, Laya.Ease.cubicOut, Laya.Handler.create(this, function () {\r\n                if (func !== null) {\r\n                    func();\r\n                }\r\n            }), delayed);\r\n        }\r\n        Animation2D.goUp_Simple = goUp_Simple;\r\n        function cardRotateX_TowFace(node, time, func1, delayed, func2) {\r\n            Laya.Tween.to(node, { scaleX: 0 }, time, null, Laya.Handler.create(this, function () {\r\n                Tools.Node.childrenVisible2D(node, false);\r\n                if (func1) {\r\n                    func1();\r\n                }\r\n                Laya.Tween.to(node, { scaleX: 1 }, time * 0.9, null, Laya.Handler.create(this, function () {\r\n                    Laya.Tween.to(node, { scaleX: 0 }, time * 0.8, null, Laya.Handler.create(this, function () {\r\n                        Tools.Node.childrenVisible2D(node, true);\r\n                        Laya.Tween.to(node, { scaleX: 1 }, time * 0.7, null, Laya.Handler.create(this, function () {\r\n                            if (func2) {\r\n                                func2();\r\n                            }\r\n                        }), 0);\r\n                    }), 0);\r\n                }), 0);\r\n            }), delayed);\r\n        }\r\n        Animation2D.cardRotateX_TowFace = cardRotateX_TowFace;\r\n        function cardRotateX_OneFace(node, func1, time, delayed, func2) {\r\n            Laya.Tween.to(node, { scaleX: 0 }, time, null, Laya.Handler.create(this, function () {\r\n                if (func1 !== null) {\r\n                    func1();\r\n                }\r\n                Laya.Tween.to(node, { scaleX: 1 }, time, null, Laya.Handler.create(this, function () {\r\n                    if (func2 !== null) {\r\n                        func2();\r\n                    }\r\n                }), 0);\r\n            }), delayed);\r\n        }\r\n        Animation2D.cardRotateX_OneFace = cardRotateX_OneFace;\r\n        function cardRotateY_TowFace(node, time, func1, delayed, func2) {\r\n            Laya.Tween.to(node, { scaleY: 0 }, time, null, Laya.Handler.create(this, function () {\r\n                Tools.Node.childrenVisible2D(node, false);\r\n                if (func1) {\r\n                    func1();\r\n                }\r\n                Laya.Tween.to(node, { scaleY: 1 }, time, null, Laya.Handler.create(this, function () {\r\n                    Laya.Tween.to(node, { scaleY: 0 }, time, null, Laya.Handler.create(this, function () {\r\n                        Laya.Tween.to(node, { scaleY: 1 }, time * 1 / 2, null, Laya.Handler.create(this, function () {\r\n                            Tools.Node.childrenVisible2D(node, true);\r\n                            if (func2) {\r\n                                func2();\r\n                            }\r\n                        }), 0);\r\n                    }), 0);\r\n                }), 0);\r\n            }), delayed);\r\n        }\r\n        Animation2D.cardRotateY_TowFace = cardRotateY_TowFace;\r\n        function cardRotateY_OneFace(node, func1, time, delayed, func2) {\r\n            Laya.Tween.to(node, { scaleY: 0 }, time, null, Laya.Handler.create(this, function () {\r\n                if (func1) {\r\n                    func1();\r\n                }\r\n                Laya.Tween.to(node, { scaleY: 1 }, time, null, Laya.Handler.create(this, function () {\r\n                    if (func2) {\r\n                        func2();\r\n                    }\r\n                }), 0);\r\n            }), delayed ? delayed : 0);\r\n        }\r\n        Animation2D.cardRotateY_OneFace = cardRotateY_OneFace;\r\n        function move_changeRotate(node, targetX, targetY, per, rotation_pe, time, func) {\r\n            let targetPerX = targetX * per + node.x * (1 - per);\r\n            let targetPerY = targetY * per + node.y * (1 - per);\r\n            Laya.Tween.to(node, { x: targetPerX, y: targetPerY, rotation: 45 }, time, null, Laya.Handler.create(this, function () {\r\n                Laya.Tween.to(node, { x: targetX, y: targetY, rotation: 0 }, time, null, Laya.Handler.create(this, function () {\r\n                    if (func !== null) {\r\n                        func();\r\n                    }\r\n                }), 0);\r\n            }), 0);\r\n        }\r\n        Animation2D.move_changeRotate = move_changeRotate;\r\n        function bomb_LeftRight(node, MaxScale, time, func, delayed) {\r\n            Laya.Tween.to(node, { scaleX: MaxScale }, time, Laya.Ease.cubicInOut, Laya.Handler.create(this, function () {\r\n                Laya.Tween.to(node, { scaleX: 0.85 }, time * 0.5, null, Laya.Handler.create(this, function () {\r\n                    Laya.Tween.to(node, { scaleX: MaxScale * 0.9 }, time * 0.55, null, Laya.Handler.create(this, function () {\r\n                        Laya.Tween.to(node, { scaleX: 0.95 }, time * 0.6, null, Laya.Handler.create(this, function () {\r\n                            Laya.Tween.to(node, { scaleX: 1 }, time * 0.65, null, Laya.Handler.create(this, function () {\r\n                                if (func)\r\n                                    func();\r\n                            }), 0);\r\n                        }), 0);\r\n                    }), 0);\r\n                }), 0);\r\n            }), delayed);\r\n        }\r\n        Animation2D.bomb_LeftRight = bomb_LeftRight;\r\n        function bombs_Appear(node, firstAlpha, endScale, maxScale, rotation1, time1, time2, delayed, func) {\r\n            node.scale(0, 0);\r\n            node.alpha = firstAlpha;\r\n            Laya.Tween.to(node, { scaleX: maxScale, scaleY: maxScale, alpha: 1, rotation: rotation1 }, time1, Laya.Ease.cubicInOut, Laya.Handler.create(this, function () {\r\n                Laya.Tween.to(node, { scaleX: endScale, scaleY: endScale, rotation: 0 }, time2, null, Laya.Handler.create(this, function () {\r\n                    Laya.Tween.to(node, { scaleX: endScale + (maxScale - endScale) * 0.2, scaleY: endScale + (maxScale - endScale) * 0.2, rotation: 0 }, time2, null, Laya.Handler.create(this, function () {\r\n                        Laya.Tween.to(node, { scaleX: endScale, scaleY: endScale, rotation: 0 }, time2, null, Laya.Handler.create(this, function () {\r\n                            if (func) {\r\n                                func();\r\n                            }\r\n                        }), 0);\r\n                    }), 0);\r\n                }), 0);\r\n            }), delayed ? delayed : 0);\r\n        }\r\n        Animation2D.bombs_Appear = bombs_Appear;\r\n        function bombs_AppearAllChild(node, firstAlpha, endScale, scale1, rotation1, time1, time2, interval, func, audioType) {\r\n            let de1 = 0;\r\n            if (!interval) {\r\n                interval = 100;\r\n            }\r\n            for (let index = 0; index < node.numChildren; index++) {\r\n                let Child = node.getChildAt(index);\r\n                Child.alpha = 0;\r\n                Laya.timer.once(de1, this, () => {\r\n                    Child.alpha = 1;\r\n                    if (index !== node.numChildren - 1) {\r\n                        func == null;\r\n                    }\r\n                    bombs_Appear(Child, firstAlpha, endScale, scale1, rotation1, time1, time2, null, func);\r\n                });\r\n                de1 += interval;\r\n            }\r\n        }\r\n        Animation2D.bombs_AppearAllChild = bombs_AppearAllChild;\r\n        function bombs_VanishAllChild(node, endScale, alpha, rotation, time, interval, func) {\r\n            let de1 = 0;\r\n            if (!interval) {\r\n                interval = 100;\r\n            }\r\n            for (let index = 0; index < node.numChildren; index++) {\r\n                let Child = node.getChildAt(index);\r\n                Laya.timer.once(de1, this, () => {\r\n                    if (index !== node.numChildren - 1) {\r\n                        func == null;\r\n                    }\r\n                    bombs_Vanish(node, endScale, alpha, rotation, time, 0, func);\r\n                });\r\n                de1 += interval;\r\n            }\r\n        }\r\n        Animation2D.bombs_VanishAllChild = bombs_VanishAllChild;\r\n        function bombs_Vanish(node, scale, alpha, rotation, time, delayed, func) {\r\n            Laya.Tween.to(node, { scaleX: scale, scaleY: scale, alpha: alpha, rotation: rotation }, time, Laya.Ease.cubicOut, Laya.Handler.create(this, function () {\r\n                if (func) {\r\n                    func();\r\n                }\r\n            }), delayed ? delayed : 0);\r\n        }\r\n        Animation2D.bombs_Vanish = bombs_Vanish;\r\n        function swell_shrink(node, firstScale, scale1, time, delayed, func) {\r\n            if (!delayed) {\r\n                delayed = 0;\r\n            }\r\n            Laya.Tween.to(node, { scaleX: scale1, scaleY: scale1, alpha: 1, }, time, Laya.Ease.cubicInOut, Laya.Handler.create(this, function () {\r\n                Laya.Tween.to(node, { scaleX: firstScale, scaleY: firstScale, rotation: 0 }, time, null, Laya.Handler.create(this, function () {\r\n                    Laya.Tween.to(node, { scaleX: firstScale + (scale1 - firstScale) * 0.5, scaleY: firstScale + (scale1 - firstScale) * 0.5, rotation: 0 }, time * 0.5, null, Laya.Handler.create(this, function () {\r\n                        Laya.Tween.to(node, { scaleX: firstScale, scaleY: firstScale, rotation: 0 }, time, null, Laya.Handler.create(this, function () {\r\n                            if (func) {\r\n                                func();\r\n                            }\r\n                        }), 0);\r\n                    }), 0);\r\n                }), 0);\r\n            }), delayed);\r\n        }\r\n        Animation2D.swell_shrink = swell_shrink;\r\n        function move_Simple(node, fX, fY, targetX, targetY, time, delayed, func, ease) {\r\n            node.x = fX;\r\n            node.y = fY;\r\n            Laya.Tween.to(node, { x: targetX, y: targetY }, time, ease ? ease : null, Laya.Handler.create(this, function () {\r\n                if (func) {\r\n                    func();\r\n                }\r\n            }), delayed ? delayed : 0);\r\n        }\r\n        Animation2D.move_Simple = move_Simple;\r\n        function move_Deform_X(node, firstX, firstR, targetX, scaleX, scaleY, time, delayed, func) {\r\n            node.alpha = 0;\r\n            node.x = firstX;\r\n            node.rotation = firstR;\r\n            Laya.Tween.to(node, { x: targetX, scaleX: 1 + scaleX, scaleY: 1 + scaleY, rotation: firstR / 3, alpha: 1 }, time, null, Laya.Handler.create(this, function () {\r\n                Laya.Tween.to(node, { scaleX: 1, scaleY: 1, rotation: 0 }, time, null, Laya.Handler.create(this, function () {\r\n                    if (func !== null) {\r\n                        func();\r\n                    }\r\n                }), 0);\r\n            }), delayed);\r\n        }\r\n        Animation2D.move_Deform_X = move_Deform_X;\r\n        function move_Deform_Y(target, firstY, firstR, targeY, scaleX, scaleY, time, delayed, func) {\r\n            target.alpha = 0;\r\n            if (firstY) {\r\n                target.y = firstY;\r\n            }\r\n            target.rotation = firstR;\r\n            Laya.Tween.to(target, { y: targeY, scaleX: 1 + scaleX, scaleY: 1 + scaleY, rotation: firstR / 3, alpha: 1 }, time, null, Laya.Handler.create(this, function () {\r\n                Laya.Tween.to(target, { scaleX: 1, scaleY: 1, rotation: 0 }, time, null, Laya.Handler.create(this, function () {\r\n                    if (func !== null) {\r\n                        func();\r\n                    }\r\n                }), 0);\r\n            }), delayed);\r\n        }\r\n        Animation2D.move_Deform_Y = move_Deform_Y;\r\n        function blink_FadeOut_v(target, minAlpha, maXalpha, time, delayed, func) {\r\n            target.alpha = minAlpha;\r\n            Laya.Tween.to(target, { alpha: maXalpha }, time, null, Laya.Handler.create(this, function () {\r\n                Laya.Tween.to(target, { alpha: minAlpha }, time, null, Laya.Handler.create(this, function () {\r\n                    if (func !== null) {\r\n                        func();\r\n                    }\r\n                }), 0);\r\n            }), delayed);\r\n        }\r\n        Animation2D.blink_FadeOut_v = blink_FadeOut_v;\r\n        function blink_FadeOut(target, minAlpha, maXalpha, time, delayed, func) {\r\n            target.alpha = minAlpha;\r\n            if (!delayed) {\r\n                delayed = 0;\r\n            }\r\n            Laya.Tween.to(target, { alpha: minAlpha }, time, null, Laya.Handler.create(this, function () {\r\n                Laya.Tween.to(target, { alpha: maXalpha }, time, null, Laya.Handler.create(this, function () {\r\n                    if (func) {\r\n                        func();\r\n                    }\r\n                }), 0);\r\n            }), delayed);\r\n        }\r\n        Animation2D.blink_FadeOut = blink_FadeOut;\r\n        function shookHead_Simple(target, rotate, time, delayed, func) {\r\n            let firstR = target.rotation;\r\n            Laya.Tween.to(target, { rotation: firstR + rotate }, time, null, Laya.Handler.create(this, function () {\r\n                Laya.Tween.to(target, { rotation: firstR - rotate * 2 }, time, null, Laya.Handler.create(this, function () {\r\n                    Laya.Tween.to(target, { rotation: firstR + rotate }, time, null, Laya.Handler.create(this, function () {\r\n                        Laya.Tween.to(target, { rotation: firstR }, time, null, Laya.Handler.create(this, function () {\r\n                            if (func) {\r\n                                func();\r\n                            }\r\n                        }), 0);\r\n                    }), 0);\r\n                }), 0);\r\n            }), delayed ? delayed : 0);\r\n        }\r\n        Animation2D.shookHead_Simple = shookHead_Simple;\r\n        function HintAni_01(target, upNum, time1, stopTime, downNum, time2, func) {\r\n            target.alpha = 0;\r\n            Laya.Tween.to(target, { alpha: 1, y: target.y - upNum }, time1, null, Laya.Handler.create(this, function () {\r\n                Laya.Tween.to(target, { y: target.y - 15 }, stopTime, null, Laya.Handler.create(this, function () {\r\n                    Laya.Tween.to(target, { alpha: 0, y: target.y + upNum + downNum }, time2, null, Laya.Handler.create(this, function () {\r\n                        if (func !== null) {\r\n                            func();\r\n                        }\r\n                    }), 0);\r\n                }), 0);\r\n            }), 0);\r\n        }\r\n        Animation2D.HintAni_01 = HintAni_01;\r\n        function scale_Alpha(target, fAlpha, fScaleX, fScaleY, eScaleX, eScaleY, eAlpha, time, delayed, func, ease) {\r\n            if (!delayed) {\r\n                delayed = 0;\r\n            }\r\n            if (!delayed) {\r\n                ease = null;\r\n            }\r\n            target.alpha = fAlpha;\r\n            target.scaleX = fScaleX;\r\n            target.scaleY = fScaleY;\r\n            Laya.Tween.to(target, { scaleX: eScaleX, scaleY: eScaleY, alpha: eAlpha }, time, ease, Laya.Handler.create(this, function () {\r\n                if (func) {\r\n                    func();\r\n                }\r\n            }), delayed);\r\n        }\r\n        Animation2D.scale_Alpha = scale_Alpha;\r\n        function rotate_Magnify_KickBack(node, eAngle, eScale, time1, time2, delayed1, delayed2, func) {\r\n            node.alpha = 0;\r\n            node.scaleX = 0;\r\n            node.scaleY = 0;\r\n            Laya.Tween.to(node, { alpha: 1, rotation: 360 + eAngle, scaleX: 1 + eScale, scaleY: 1 + eScale }, time1, null, Laya.Handler.create(this, function () {\r\n                Laya.Tween.to(node, { rotation: 360 - eAngle / 2, scaleX: 1 + eScale / 2, scaleY: 1 + eScale / 2 }, time2, null, Laya.Handler.create(this, function () {\r\n                    Laya.Tween.to(node, { rotation: 360 + eAngle / 3, scaleX: 1 + eScale / 5, scaleY: 1 + eScale / 5 }, time2, null, Laya.Handler.create(this, function () {\r\n                        Laya.Tween.to(node, { rotation: 360, scaleX: 1, scaleY: 1 }, time2, null, Laya.Handler.create(this, function () {\r\n                            node.rotation = 0;\r\n                            if (func !== null) {\r\n                                func();\r\n                            }\r\n                        }), 0);\r\n                    }), delayed2);\r\n                }), 0);\r\n            }), delayed1);\r\n        }\r\n        Animation2D.rotate_Magnify_KickBack = rotate_Magnify_KickBack;\r\n    })(Animation2D = lwg.Animation2D || (lwg.Animation2D = {}));\r\n    let Setting;\r\n    (function (Setting) {\r\n        Setting._sound = {\r\n            get switch() {\r\n                return Laya.LocalStorage.getItem('Setting_sound') == '0' ? false : true;\r\n            },\r\n            set switch(value) {\r\n                let val;\r\n                if (value) {\r\n                    val = 1;\r\n                }\r\n                else {\r\n                    val = 0;\r\n                }\r\n                Laya.LocalStorage.setItem('Setting_sound', val.toString());\r\n            }\r\n        };\r\n        Setting._bgMusic = {\r\n            get switch() {\r\n                return Laya.LocalStorage.getItem('Setting_bgMusic') == '0' ? false : true;\r\n            },\r\n            set switch(value) {\r\n                let val;\r\n                if (value) {\r\n                    val = 1;\r\n                    Laya.LocalStorage.setItem('Setting_bgMusic', val.toString());\r\n                    PalyAudio.playMusic();\r\n                }\r\n                else {\r\n                    val = 0;\r\n                    Laya.LocalStorage.setItem('Setting_bgMusic', val.toString());\r\n                    PalyAudio.stopMusic();\r\n                }\r\n            }\r\n        };\r\n        Setting._shake = {\r\n            get switch() {\r\n                return Laya.LocalStorage.getItem('Setting_shake') == '0' ? false : true;\r\n            },\r\n            set switch(value) {\r\n                let val;\r\n                if (value) {\r\n                    val = 1;\r\n                }\r\n                else {\r\n                    val = 0;\r\n                }\r\n                Laya.LocalStorage.setItem('Setting_shake', val.toString());\r\n            }\r\n        };\r\n        function createSetBtn(x, y, width, height, skin, parent, ZOder) {\r\n            let btn = new Laya.Image;\r\n            btn.width = width ? width : 100;\r\n            btn.height = width ? width : 100;\r\n            btn.skin = skin ? skin : 'Frame/UI/icon_set.png';\r\n            if (parent) {\r\n                parent.addChild(btn);\r\n            }\r\n            else {\r\n                Laya.stage.addChild(btn);\r\n            }\r\n            btn.pivotX = btn.width / 2;\r\n            btn.pivotY = btn.height / 2;\r\n            btn.x = x;\r\n            btn.y = y;\r\n            btn.zOrder = ZOder ? ZOder : 100;\r\n            var btnSetUp = function (e) {\r\n                e.stopPropagation();\r\n                Admin._openScene(Admin._SceneName.Set);\r\n            };\r\n            Click._on(Click._Effect.type.largen, btn, null, null, btnSetUp, null);\r\n            Setting.BtnSetNode = btn;\r\n            Setting.BtnSetNode.name = 'BtnSetNode';\r\n            return btn;\r\n        }\r\n        Setting.createSetBtn = createSetBtn;\r\n        function setBtnAppear(delayed, x, y) {\r\n            if (!Setting.BtnSetNode) {\r\n                return;\r\n            }\r\n            if (delayed) {\r\n                Animation2D.scale_Alpha(Setting.BtnSetNode, 0, 1, 1, 1, 1, 1, delayed, 0, f => {\r\n                    Setting.BtnSetNode.visible = true;\r\n                });\r\n            }\r\n            else {\r\n                Setting.BtnSetNode.visible = true;\r\n            }\r\n            if (x) {\r\n                Setting.BtnSetNode.x = x;\r\n            }\r\n            if (y) {\r\n                Setting.BtnSetNode.y = y;\r\n            }\r\n        }\r\n        Setting.setBtnAppear = setBtnAppear;\r\n        function setBtnVinish(delayed) {\r\n            if (!Setting.BtnSetNode) {\r\n                return;\r\n            }\r\n            if (delayed) {\r\n                Animation2D.scale_Alpha(Setting.BtnSetNode, 1, 1, 1, 1, 1, 0, delayed, 0, f => {\r\n                    Setting.BtnSetNode.visible = false;\r\n                });\r\n            }\r\n            else {\r\n                Setting.BtnSetNode.visible = false;\r\n            }\r\n        }\r\n        Setting.setBtnVinish = setBtnVinish;\r\n    })(Setting = lwg.Setting || (lwg.Setting = {}));\r\n    let PalyAudio;\r\n    (function (PalyAudio) {\r\n        let voiceUrl;\r\n        (function (voiceUrl) {\r\n            voiceUrl[\"btn\"] = \"Lwg/Voice/btn.wav\";\r\n            voiceUrl[\"bgm\"] = \"Lwg/Voice/bgm.mp3\";\r\n            voiceUrl[\"victory\"] = \"Lwg/Voice/guoguan.wav\";\r\n            voiceUrl[\"defeated\"] = \"Lwg/Voice/wancheng.wav\";\r\n            voiceUrl[\"huodejinbi\"] = \"Lwg/Voice/huodejinbi.wav\";\r\n        })(voiceUrl = PalyAudio.voiceUrl || (PalyAudio.voiceUrl = {}));\r\n        function playSound(url, number, func) {\r\n            if (!url) {\r\n                url = voiceUrl.btn;\r\n            }\r\n            if (!number) {\r\n                number = 1;\r\n            }\r\n            if (Setting._sound.switch) {\r\n                Laya.SoundManager.playSound(url, number, Laya.Handler.create(this, function () {\r\n                    if (func) {\r\n                        func();\r\n                    }\r\n                }));\r\n            }\r\n        }\r\n        PalyAudio.playSound = playSound;\r\n        function playDefeatedSound(url, number, func) {\r\n            if (!url) {\r\n                url = voiceUrl.defeated;\r\n            }\r\n            if (!number) {\r\n                number = 1;\r\n            }\r\n            if (Setting._sound.switch) {\r\n                Laya.SoundManager.playSound(url, number, Laya.Handler.create(this, function () {\r\n                    if (func) {\r\n                        func();\r\n                    }\r\n                }));\r\n            }\r\n        }\r\n        PalyAudio.playDefeatedSound = playDefeatedSound;\r\n        function playVictorySound(url, number, func) {\r\n            if (!url) {\r\n                url = voiceUrl.victory;\r\n            }\r\n            if (!number) {\r\n                number = 1;\r\n            }\r\n            if (Setting._sound.switch) {\r\n                Laya.SoundManager.playSound(url, number, Laya.Handler.create(this, function () {\r\n                    if (func) {\r\n                        func();\r\n                    }\r\n                }));\r\n            }\r\n        }\r\n        PalyAudio.playVictorySound = playVictorySound;\r\n        function playMusic(url, number, delayed) {\r\n            if (!url) {\r\n                url = voiceUrl.bgm;\r\n            }\r\n            if (!number) {\r\n                number = 0;\r\n            }\r\n            if (!delayed) {\r\n                delayed = 0;\r\n            }\r\n            if (Setting._bgMusic.switch) {\r\n                Laya.SoundManager.playMusic(url, number, Laya.Handler.create(this, function () { }), delayed);\r\n            }\r\n        }\r\n        PalyAudio.playMusic = playMusic;\r\n        function stopMusic() {\r\n            Laya.SoundManager.stopMusic();\r\n        }\r\n        PalyAudio.stopMusic = stopMusic;\r\n    })(PalyAudio = lwg.PalyAudio || (lwg.PalyAudio = {}));\r\n    let Tools;\r\n    (function (Tools) {\r\n        function color_RGBtoHexString(r, g, b) {\r\n            return '#' + (\"00000\" + (r << 16 | g << 8 | b).toString(16)).slice(-6);\r\n        }\r\n        Tools.color_RGBtoHexString = color_RGBtoHexString;\r\n        function format_FormatNumber(crc, fixNum = 0) {\r\n            let textTemp;\r\n            if (crc >= 1e27) {\r\n                textTemp = (crc / 1e27).toFixed(fixNum) + \"ae\";\r\n            }\r\n            else if (crc >= 1e24) {\r\n                textTemp = (crc / 1e24).toFixed(fixNum) + \"ad\";\r\n            }\r\n            else if (crc >= 1e21) {\r\n                textTemp = (crc / 1e21).toFixed(fixNum) + \"ac\";\r\n            }\r\n            else if (crc >= 1e18) {\r\n                textTemp = (crc / 1e18).toFixed(fixNum) + \"ab\";\r\n            }\r\n            else if (crc >= 1e15) {\r\n                textTemp = (crc / 1e15).toFixed(fixNum) + \"aa\";\r\n            }\r\n            else if (crc >= 1e12) {\r\n                textTemp = (crc / 1e12).toFixed(fixNum) + \"t\";\r\n            }\r\n            else if (crc >= 1e9) {\r\n                textTemp = (crc / 1e9).toFixed(fixNum) + \"b\";\r\n            }\r\n            else if (crc >= 1e6) {\r\n                textTemp = (crc / 1e6).toFixed(fixNum) + \"m\";\r\n            }\r\n            else if (crc >= 1e3) {\r\n                textTemp = (crc / 1e3).toFixed(fixNum) + \"k\";\r\n            }\r\n            else {\r\n                textTemp = Math.round(crc).toString();\r\n            }\r\n            return textTemp;\r\n        }\r\n        Tools.format_FormatNumber = format_FormatNumber;\r\n        function format_StrAddNum(str, num) {\r\n            return (Number(str) + num).toString();\r\n        }\r\n        Tools.format_StrAddNum = format_StrAddNum;\r\n        function format_NumAddStr(num, str) {\r\n            return Number(str) + num;\r\n        }\r\n        Tools.format_NumAddStr = format_NumAddStr;\r\n        let Node;\r\n        (function (Node) {\r\n            function zOrderByY(sp, zOrder, along) {\r\n                let arr = [];\r\n                if (sp.numChildren == 0) {\r\n                    return arr;\r\n                }\r\n                ;\r\n                for (let index = 0; index < sp.numChildren; index++) {\r\n                    const element = sp.getChildAt(index);\r\n                    arr.push(element);\r\n                }\r\n                Tools.objArrPropertySort(arr, 'y');\r\n                if (zOrder) {\r\n                    for (let index = 0; index < arr.length; index++) {\r\n                        const element = arr[index];\r\n                        element['zOrder'] = index;\r\n                    }\r\n                }\r\n                if (along) {\r\n                    let arr0 = [];\r\n                    for (let index = arr.length - 1; index >= 0; index--) {\r\n                        const element = arr[index];\r\n                        console.log(element);\r\n                        element['zOrder'] = arr.length - index;\r\n                        arr0.push(element);\r\n                    }\r\n                    return arr0;\r\n                }\r\n                else {\r\n                    return arr;\r\n                }\r\n            }\r\n            Node.zOrderByY = zOrderByY;\r\n            function changePovit(sp, _pivotX, _pivotY, int) {\r\n                let originalPovitX = sp.pivotX;\r\n                let originalPovitY = sp.pivotY;\r\n                if (int) {\r\n                    _pivotX = Math.round(_pivotX);\r\n                    _pivotY = Math.round(_pivotY);\r\n                }\r\n                if (sp.width) {\r\n                    sp.pivot(_pivotX, _pivotY);\r\n                    sp.x += (sp.pivotX - originalPovitX);\r\n                    sp.y += (sp.pivotY - originalPovitY);\r\n                }\r\n            }\r\n            Node.changePovit = changePovit;\r\n            function getChildArrByProperty(node, property, value) {\r\n                let childArr = [];\r\n                for (let index = 0; index < node.numChildren; index++) {\r\n                    const element = node.getChildAt(index);\r\n                    if (element[property] == value) {\r\n                        childArr.push(element);\r\n                    }\r\n                }\r\n                return childArr;\r\n            }\r\n            Node.getChildArrByProperty = getChildArrByProperty;\r\n            function randomChildren(node, num) {\r\n                let childArr = [];\r\n                let indexArr = [];\r\n                for (let i = 0; i < node.numChildren; i++) {\r\n                    indexArr.push(i);\r\n                }\r\n                let randomIndex = Tools.arrayRandomGetOut(indexArr, num);\r\n                for (let j = 0; j < randomIndex.length; j++) {\r\n                    childArr.push(node.getChildAt(randomIndex[j]));\r\n                }\r\n                return childArr;\r\n            }\r\n            Node.randomChildren = randomChildren;\r\n            function removeAllChildren(node) {\r\n                if (node.numChildren > 0) {\r\n                    node.removeChildren(0, node.numChildren - 1);\r\n                }\r\n            }\r\n            Node.removeAllChildren = removeAllChildren;\r\n            function removeOneChildren(node, nodeName) {\r\n                for (let index = 0; index < node.numChildren; index++) {\r\n                    const element = node.getChildAt(index);\r\n                    if (element.name == nodeName) {\r\n                        element.removeSelf();\r\n                    }\r\n                }\r\n            }\r\n            Node.removeOneChildren = removeOneChildren;\r\n            function checkChildren(node, nodeName) {\r\n                let bool = false;\r\n                for (let index = 0; index < node.numChildren; index++) {\r\n                    const element = node.getChildAt(index);\r\n                    if (element.name == nodeName) {\r\n                        bool = true;\r\n                    }\r\n                }\r\n                return bool;\r\n            }\r\n            Node.checkChildren = checkChildren;\r\n            function showExcludedChild2D(node, childNameArr, bool) {\r\n                for (let i = 0; i < node.numChildren; i++) {\r\n                    let Child = node.getChildAt(i);\r\n                    for (let j = 0; j < childNameArr.length; j++) {\r\n                        if (Child.name == childNameArr[j]) {\r\n                            if (bool || bool == undefined) {\r\n                                Child.visible = true;\r\n                            }\r\n                            else {\r\n                                Child.visible = false;\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (bool || bool == undefined) {\r\n                                Child.visible = false;\r\n                            }\r\n                            else {\r\n                                Child.visible = true;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            Node.showExcludedChild2D = showExcludedChild2D;\r\n            function showExcludedChild3D(node, childNameArr, bool) {\r\n                for (let i = 0; i < node.numChildren; i++) {\r\n                    let Child = node.getChildAt(i);\r\n                    for (let j = 0; j < childNameArr.length; j++) {\r\n                        if (Child.name == childNameArr[j]) {\r\n                            if (bool || bool == undefined) {\r\n                                Child.active = true;\r\n                            }\r\n                            else {\r\n                                Child.active = false;\r\n                            }\r\n                        }\r\n                        else {\r\n                            if (bool || bool == undefined) {\r\n                                Child.active = false;\r\n                            }\r\n                            else {\r\n                                Child.active = true;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            Node.showExcludedChild3D = showExcludedChild3D;\r\n            function createPrefab(prefab, name) {\r\n                let sp = Laya.Pool.getItemByCreateFun(name ? name : prefab.json['props']['name'], prefab.create, prefab);\r\n                return sp;\r\n            }\r\n            Node.createPrefab = createPrefab;\r\n            function childrenVisible2D(node, bool) {\r\n                for (let index = 0; index < node.numChildren; index++) {\r\n                    const element = node.getChildAt(index);\r\n                    if (bool) {\r\n                        element.visible = true;\r\n                    }\r\n                    else {\r\n                        element.visible = false;\r\n                    }\r\n                }\r\n            }\r\n            Node.childrenVisible2D = childrenVisible2D;\r\n            function childrenVisible3D(node, bool) {\r\n                for (let index = 0; index < node.numChildren; index++) {\r\n                    const element = node.getChildAt(index);\r\n                    if (bool) {\r\n                        element.active = true;\r\n                    }\r\n                    else {\r\n                        element.active = false;\r\n                    }\r\n                }\r\n            }\r\n            Node.childrenVisible3D = childrenVisible3D;\r\n            function findChild3D(parent, name) {\r\n                var item = null;\r\n                item = parent.getChildByName(name);\r\n                if (item != null)\r\n                    return item;\r\n                var go = null;\r\n                for (var i = 0; i < parent.numChildren; i++) {\r\n                    go = findChild3D(parent.getChildAt(i), name);\r\n                    if (go != null)\r\n                        return go;\r\n                }\r\n                return null;\r\n            }\r\n            Node.findChild3D = findChild3D;\r\n            function findChild2D(parent, name) {\r\n                var item = null;\r\n                item = parent.getChildByName(name);\r\n                if (item != null)\r\n                    return item;\r\n                var go = null;\r\n                for (var i = 0; i < parent.numChildren; i++) {\r\n                    go = findChild2D(parent.getChildAt(i), name);\r\n                    if (go != null)\r\n                        return go;\r\n                }\r\n                return null;\r\n            }\r\n            Node.findChild2D = findChild2D;\r\n            function findChildByName2D(parent, name) {\r\n                let arr = [];\r\n                return arr;\r\n            }\r\n            Node.findChildByName2D = findChildByName2D;\r\n        })(Node = Tools.Node || (Tools.Node = {}));\r\n        function randomOneHalf() {\r\n            let number;\r\n            number = Math.floor(Math.random() * 2);\r\n            return number;\r\n        }\r\n        Tools.randomOneHalf = randomOneHalf;\r\n        function randomOneInt(section1, section2) {\r\n            if (section2) {\r\n                return Math.floor(Math.random() * (section2 - section1)) + section1;\r\n            }\r\n            else {\r\n                return Math.floor(Math.random() * section1);\r\n            }\r\n        }\r\n        Tools.randomOneInt = randomOneInt;\r\n        function randomCountNumer(section1, section2, count, intSet) {\r\n            let arr = [];\r\n            if (!count) {\r\n                count = 1;\r\n            }\r\n            if (section2) {\r\n                while (count > arr.length) {\r\n                    let num;\r\n                    if (intSet || intSet == undefined) {\r\n                        num = Math.floor(Math.random() * (section2 - section1)) + section1;\r\n                    }\r\n                    else {\r\n                        num = Math.random() * (section2 - section1) + section1;\r\n                    }\r\n                    arr.push(num);\r\n                    Tools.arrayUnique_01(arr);\r\n                }\r\n                ;\r\n                return arr;\r\n            }\r\n            else {\r\n                while (count > arr.length) {\r\n                    let num;\r\n                    if (intSet || intSet == undefined) {\r\n                        num = Math.floor(Math.random() * section1);\r\n                    }\r\n                    else {\r\n                        num = Math.random() * section1;\r\n                    }\r\n                    arr.push(num);\r\n                    Tools.arrayUnique_01(arr);\r\n                }\r\n                return arr;\r\n            }\r\n        }\r\n        Tools.randomCountNumer = randomCountNumer;\r\n        function randomOneNumber(section1, section2, intSet) {\r\n            let chage;\r\n            if (section1 > section2) {\r\n                chage = section1;\r\n                section1 = section2;\r\n                section2 = chage;\r\n            }\r\n            if (section2) {\r\n                let num;\r\n                if (intSet) {\r\n                    num = Math.floor(Math.random() * (section2 - section1)) + section1;\r\n                }\r\n                else {\r\n                    num = Math.random() * (section2 - section1) + section1;\r\n                }\r\n                return num;\r\n            }\r\n            else {\r\n                let num;\r\n                if (intSet) {\r\n                    num = Math.floor(Math.random() * section1);\r\n                }\r\n                else {\r\n                    num = Math.random() * section1;\r\n                }\r\n                return num;\r\n            }\r\n        }\r\n        Tools.randomOneNumber = randomOneNumber;\r\n        function d2_twoObjectsLen(obj1, obj2) {\r\n            let point = new Laya.Point(obj1.x, obj1.y);\r\n            let len = point.distance(obj2.x, obj2.y);\r\n            return len;\r\n        }\r\n        Tools.d2_twoObjectsLen = d2_twoObjectsLen;\r\n        function d2_Vector_Angle(x, y) {\r\n            let radian = Math.atan2(x, y);\r\n            let angle = 90 - radian * (180 / Math.PI);\r\n            if (angle <= 0) {\r\n                angle = 270 + (90 + angle);\r\n            }\r\n            return angle - 90;\r\n        }\r\n        Tools.d2_Vector_Angle = d2_Vector_Angle;\r\n        ;\r\n        function d2_angle_Vector(angle) {\r\n            let radian = (90 - angle) / (180 / Math.PI);\r\n            let p = new Laya.Point(Math.sin(radian), Math.cos(radian));\r\n            p.normalize();\r\n            return p;\r\n        }\r\n        Tools.d2_angle_Vector = d2_angle_Vector;\r\n        ;\r\n        function d3_twoObjectsLen(obj1, obj2) {\r\n            let obj1V3 = obj1.transform.position;\r\n            let obj2V3 = obj2.transform.position;\r\n            let p = new Laya.Vector3();\r\n            Laya.Vector3.subtract(obj1V3, obj2V3, p);\r\n            let lenp = Laya.Vector3.scalarLength(p);\r\n            return lenp;\r\n        }\r\n        Tools.d3_twoObjectsLen = d3_twoObjectsLen;\r\n        function d3_twoPositionLen(v1, v2) {\r\n            let p = d3_twoSubV3(v1, v2);\r\n            let lenp = Laya.Vector3.scalarLength(p);\r\n            return lenp;\r\n        }\r\n        Tools.d3_twoPositionLen = d3_twoPositionLen;\r\n        function d3_twoSubV3(V3_01, V3_02, normalizing) {\r\n            let p = new Laya.Vector3();\r\n            Laya.Vector3.subtract(V3_01, V3_02, p);\r\n            if (normalizing) {\r\n                let p1 = new Laya.Vector3();\r\n                Laya.Vector3.normalize(p, p1);\r\n                return p1;\r\n            }\r\n            else {\r\n                return p;\r\n            }\r\n        }\r\n        Tools.d3_twoSubV3 = d3_twoSubV3;\r\n        function d3_maximumDistanceLimi(originV3, obj, length) {\r\n            let subP = new Laya.Vector3();\r\n            let objP = obj.transform.position;\r\n            Laya.Vector3.subtract(objP, originV3, subP);\r\n            let lenP = Laya.Vector3.scalarLength(subP);\r\n            if (lenP >= length) {\r\n                let normalizP = new Laya.Vector3();\r\n                Laya.Vector3.normalize(subP, normalizP);\r\n                let x = originV3.x + normalizP.x * length;\r\n                let y = originV3.y + normalizP.y * length;\r\n                let z = originV3.z + normalizP.z * length;\r\n                let p = new Laya.Vector3(x, y, z);\r\n                obj.transform.position = p;\r\n                return p;\r\n            }\r\n        }\r\n        Tools.d3_maximumDistanceLimi = d3_maximumDistanceLimi;\r\n        function d3_rayScanning(camera, scene3D, vector2, filtrateName) {\r\n            let _ray = new Laya.Ray(new Laya.Vector3(0, 0, 0), new Laya.Vector3(0, 0, 0));\r\n            let outs = new Array();\r\n            camera.viewportPointToRay(vector2, _ray);\r\n            scene3D.physicsSimulation.rayCastAll(_ray, outs);\r\n            if (outs.length != 0 && filtrateName) {\r\n                let outsChaild = null;\r\n                for (var i = 0; i < outs.length; i++) {\r\n                    let hitResult = outs[i].collider.owner;\r\n                    if (hitResult.name === filtrateName) {\r\n                        outsChaild = outs[i];\r\n                    }\r\n                }\r\n                return outsChaild;\r\n            }\r\n            else {\r\n                return outs;\r\n            }\r\n        }\r\n        Tools.d3_rayScanning = d3_rayScanning;\r\n        function d3_TransitionScreenPointfor(v3, camera) {\r\n            let ScreenV4 = new Laya.Vector4();\r\n            camera.viewport.project(v3, camera.projectionViewMatrix, ScreenV4);\r\n            let point = new Laya.Vector2();\r\n            point.x = ScreenV4.x;\r\n            point.y = ScreenV4.y;\r\n            return point;\r\n        }\r\n        Tools.d3_TransitionScreenPointfor = d3_TransitionScreenPointfor;\r\n        function d3_animatorPlay(Sp3D, aniName, normalizedTime, layerIndex) {\r\n            let sp3DAni = Sp3D.getComponent(Laya.Animator);\r\n            if (!sp3DAni) {\r\n                console.log(Sp3D.name, '没有动画组件');\r\n                return;\r\n            }\r\n            if (!layerIndex) {\r\n                layerIndex = 0;\r\n            }\r\n            sp3DAni.play(aniName, layerIndex, normalizedTime);\r\n            return sp3DAni;\r\n        }\r\n        Tools.d3_animatorPlay = d3_animatorPlay;\r\n        function dAll_reverseVector(type, Vecoter1, Vecoter2, normalizing) {\r\n            let p;\r\n            if (type === '2d') {\r\n                p = new Laya.Point(Vecoter1.x - Vecoter2.x, Vecoter1.y - Vecoter2.y);\r\n                if (normalizing) {\r\n                    p.normalize();\r\n                }\r\n                return p;\r\n            }\r\n            else if (type === '3d') {\r\n                p = new Laya.Vector3(Vecoter1.x - Vecoter2.x, Vecoter1.y - Vecoter2.y, Vecoter1.z - Vecoter2.z);\r\n                if (normalizing) {\r\n                    let returnP = new Laya.Vector3();\r\n                    Laya.Vector3.normalize(p, returnP);\r\n                    return returnP;\r\n                }\r\n                else {\r\n                    return p;\r\n                }\r\n            }\r\n        }\r\n        Tools.dAll_reverseVector = dAll_reverseVector;\r\n        function sk_indexControl(sk, name) {\r\n            sk.play(name, true);\r\n            sk.player.currentTime = 15 * 1000 / sk.player.cacheFrameRate;\r\n        }\r\n        Tools.sk_indexControl = sk_indexControl;\r\n        let Draw;\r\n        (function (Draw) {\r\n            function drawPieMask(parent, startAngle, endAngle) {\r\n                parent.cacheAs = \"bitmap\";\r\n                let drawPieSpt = new Laya.Sprite();\r\n                drawPieSpt.blendMode = \"destination-out\";\r\n                parent.addChild(drawPieSpt);\r\n                let drawPie = drawPieSpt.graphics.drawPie(parent.width / 2, parent.height / 2, parent.width / 2 + 10, startAngle, endAngle, \"#000000\");\r\n                return drawPie;\r\n            }\r\n            Draw.drawPieMask = drawPieMask;\r\n            function reverseRoundMask(node, x, y, radius, eliminate) {\r\n                if (eliminate == undefined || eliminate == true) {\r\n                    Node.removeAllChildren(node);\r\n                }\r\n                let interactionArea = new Laya.Sprite();\r\n                interactionArea.name = 'reverseRoundMask';\r\n                interactionArea.blendMode = \"destination-out\";\r\n                node.cacheAs = \"bitmap\";\r\n                node.addChild(interactionArea);\r\n                interactionArea.graphics.drawCircle(0, 0, radius, \"#000000\");\r\n                interactionArea.pos(x, y);\r\n                return interactionArea;\r\n            }\r\n            Draw.reverseRoundMask = reverseRoundMask;\r\n            function reverseRoundrectMask(node, x, y, width, height, round, eliminate) {\r\n                if (eliminate == undefined || eliminate == true) {\r\n                    Node.removeAllChildren(node);\r\n                }\r\n                let interactionArea = new Laya.Sprite();\r\n                interactionArea.name = 'reverseRoundrectMask';\r\n                interactionArea.blendMode = \"destination-out\";\r\n                node.cacheAs = \"bitmap\";\r\n                node.addChild(interactionArea);\r\n                interactionArea.graphics.drawPath(0, 0, [[\"moveTo\", 5, 0], [\"lineTo\", width - round, 0], [\"arcTo\", width, 0, width, round, round], [\"lineTo\", width, height - round], [\"arcTo\", width, height, width - round, height, round], [\"lineTo\", height - round, height], [\"arcTo\", 0, height, 0, height - round, round], [\"lineTo\", 0, round], [\"arcTo\", 0, 0, round, 0, round], [\"closePath\"]], { fillStyle: \"#000000\" });\r\n                interactionArea.width = width;\r\n                interactionArea.height = height;\r\n                interactionArea.pivotX = width / 2;\r\n                interactionArea.pivotY = height / 2;\r\n                interactionArea.pos(x, y);\r\n            }\r\n            Draw.reverseRoundrectMask = reverseRoundrectMask;\r\n        })(Draw = Tools.Draw || (Tools.Draw = {}));\r\n        function objArrPropertySort(array, property) {\r\n            var compare = function (obj1, obj2) {\r\n                var val1 = obj1[property];\r\n                var val2 = obj2[property];\r\n                if (!isNaN(Number(val1)) && !isNaN(Number(val2))) {\r\n                    val1 = Number(val1);\r\n                    val2 = Number(val2);\r\n                }\r\n                if (val1 < val2) {\r\n                    return -1;\r\n                }\r\n                else if (val1 > val2) {\r\n                    return 1;\r\n                }\r\n                else {\r\n                    return 0;\r\n                }\r\n            };\r\n            array.sort(compare);\r\n            return array;\r\n        }\r\n        Tools.objArrPropertySort = objArrPropertySort;\r\n        function objArr2DifferentPropertyObjArr1(objArr1, objArr2, property) {\r\n            var result = [];\r\n            for (var i = 0; i < objArr1.length; i++) {\r\n                var obj1 = objArr1[i];\r\n                var obj1Name = obj1[property];\r\n                var isExist = false;\r\n                for (var j = 0; j < objArr2.length; j++) {\r\n                    var obj2 = objArr2[j];\r\n                    var obj2Name = obj2[property];\r\n                    if (obj2Name == obj1Name) {\r\n                        isExist = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if (!isExist) {\r\n                    result.push(obj1);\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        Tools.objArr2DifferentPropertyObjArr1 = objArr2DifferentPropertyObjArr1;\r\n        function objArr1IdenticalPropertyObjArr2(data1, data2, property) {\r\n            var result = [];\r\n            for (var i = 0; i < data1.length; i++) {\r\n                var obj1 = data1[i];\r\n                var obj1Name = obj1[property];\r\n                var isExist = false;\r\n                for (var j = 0; j < data2.length; j++) {\r\n                    var obj2 = data2[j];\r\n                    var obj2Name = obj2[property];\r\n                    if (obj2Name == name) {\r\n                        isExist = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if (isExist) {\r\n                    result.push(obj1);\r\n                }\r\n            }\r\n            return result;\r\n        }\r\n        Tools.objArr1IdenticalPropertyObjArr2 = objArr1IdenticalPropertyObjArr2;\r\n        function objArrUnique(arr, property) {\r\n            for (var i = 0, len = arr.length; i < len; i++) {\r\n                for (var j = i + 1, len = arr.length; j < len; j++) {\r\n                    if (arr[i][property] === arr[j][property]) {\r\n                        arr.splice(j, 1);\r\n                        j--;\r\n                        len--;\r\n                    }\r\n                }\r\n            }\r\n            return arr;\r\n        }\r\n        Tools.objArrUnique = objArrUnique;\r\n        function objArrGetValue(objArr, property) {\r\n            let arr = [];\r\n            for (let i = 0; i < objArr.length; i++) {\r\n                if (objArr[i][property]) {\r\n                    arr.push(objArr[i][property]);\r\n                }\r\n            }\r\n            return arr;\r\n        }\r\n        Tools.objArrGetValue = objArrGetValue;\r\n        function objArray_Copy(ObjArray) {\r\n            var sourceCopy = ObjArray instanceof Array ? [] : {};\r\n            for (var item in ObjArray) {\r\n                sourceCopy[item] = typeof ObjArray[item] === 'object' ? obj_Copy(ObjArray[item]) : ObjArray[item];\r\n            }\r\n            return sourceCopy;\r\n        }\r\n        Tools.objArray_Copy = objArray_Copy;\r\n        function obj_Copy(obj) {\r\n            var objCopy = {};\r\n            for (const item in obj) {\r\n                if (obj.hasOwnProperty(item)) {\r\n                    const element = obj[item];\r\n                    if (typeof element === 'object') {\r\n                        if (Array.isArray(element)) {\r\n                            let arr1 = array_Copy(element);\r\n                            objCopy[item] = arr1;\r\n                        }\r\n                        else {\r\n                            obj_Copy(element);\r\n                        }\r\n                    }\r\n                    else {\r\n                        objCopy[item] = element;\r\n                    }\r\n                }\r\n            }\r\n            return objCopy;\r\n        }\r\n        Tools.obj_Copy = obj_Copy;\r\n        function arrayAddToarray(array1, array2) {\r\n            for (let index = 0; index < array2.length; index++) {\r\n                const element = array2[index];\r\n                array1.push(element);\r\n            }\r\n            return array1;\r\n        }\r\n        Tools.arrayAddToarray = arrayAddToarray;\r\n        function arrayRandomGetOut(arr, num) {\r\n            if (!num) {\r\n                num = 1;\r\n            }\r\n            let arrCopy = Tools.array_Copy(arr);\r\n            let arr0 = [];\r\n            if (num > arrCopy.length) {\r\n                return '数组长度小于取出的数！';\r\n            }\r\n            else {\r\n                for (let index = 0; index < num; index++) {\r\n                    let ran = Math.round(Math.random() * (arrCopy.length - 1));\r\n                    let a1 = arrCopy[ran];\r\n                    arrCopy.splice(ran, 1);\r\n                    arr0.push(a1);\r\n                }\r\n                return arr0;\r\n            }\r\n        }\r\n        Tools.arrayRandomGetOut = arrayRandomGetOut;\r\n        function arrayRandomGetOne(arr) {\r\n            let arrCopy = Tools.array_Copy(arr);\r\n            let ran = Math.round(Math.random() * (arrCopy.length - 1));\r\n            return arrCopy[ran];\r\n        }\r\n        Tools.arrayRandomGetOne = arrayRandomGetOne;\r\n        function array_Copy(arr1) {\r\n            var arr = [];\r\n            for (var i = 0; i < arr1.length; i++) {\r\n                arr.push(arr1[i]);\r\n            }\r\n            return arr;\r\n        }\r\n        Tools.array_Copy = array_Copy;\r\n        function arrayUnique_01(arr) {\r\n            for (var i = 0, len = arr.length; i < len; i++) {\r\n                for (var j = i + 1, len = arr.length; j < len; j++) {\r\n                    if (arr[i] === arr[j]) {\r\n                        arr.splice(j, 1);\r\n                        j--;\r\n                        len--;\r\n                    }\r\n                }\r\n            }\r\n            return arr;\r\n        }\r\n        Tools.arrayUnique_01 = arrayUnique_01;\r\n        function arrayUnique_02(arr) {\r\n            arr = arr.sort();\r\n            var arr1 = [arr[0]];\r\n            for (var i = 1, len = arr.length; i < len; i++) {\r\n                if (arr[i] !== arr[i - 1]) {\r\n                    arr1.push(arr[i]);\r\n                }\r\n            }\r\n            return arr1;\r\n        }\r\n        Tools.arrayUnique_02 = arrayUnique_02;\r\n        function arrayUnique_03(arr) {\r\n            return Array.from(new Set(arr));\r\n        }\r\n        Tools.arrayUnique_03 = arrayUnique_03;\r\n        function array1ExcludeArray2(arr1, arr2) {\r\n            let arr1Capy = array_Copy(arr1);\r\n            let arr2Capy = array_Copy(arr2);\r\n            for (let i = 0; i < arr1Capy.length; i++) {\r\n                for (let j = 0; j < arr2Capy.length; j++) {\r\n                    if (arr1Capy[i] == arr2Capy[j]) {\r\n                        arr1Capy.splice(i, 1);\r\n                        i--;\r\n                    }\r\n                }\r\n            }\r\n            return arr1Capy;\r\n        }\r\n        Tools.array1ExcludeArray2 = array1ExcludeArray2;\r\n        function array_ExcludeArrays(arrays, exclude) {\r\n            let arr0 = [];\r\n            for (let i = 0; i < arrays.length; i++) {\r\n                for (let j = 0; j < arrays[i].length; j++) {\r\n                    arr0.push(arrays[i][j]);\r\n                }\r\n            }\r\n            let arr1 = Tools.array_Copy(arr0);\r\n            let arr2 = Tools.arrayUnique_01(arr1);\r\n            let arrNum = [];\r\n            for (let k = 0; k < arr2.length; k++) {\r\n                arrNum.push({\r\n                    name: arr2[k],\r\n                    num: 0,\r\n                });\r\n            }\r\n            for (let l = 0; l < arr0.length; l++) {\r\n                for (let m = 0; m < arrNum.length; m++) {\r\n                    if (arr0[l] == arrNum[m]['name']) {\r\n                        arrNum[m]['num']++;\r\n                    }\r\n                }\r\n            }\r\n            let arrAllHave = [];\r\n            let arrDiffHave = [];\r\n            for (let n = 0; n < arrNum.length; n++) {\r\n                const element = arrNum[n];\r\n                if (arrNum[n]['num'] == arrays.length) {\r\n                    arrAllHave.push(arrNum[n]['name']);\r\n                }\r\n                else {\r\n                    arrDiffHave.push(arrNum[n]['name']);\r\n                }\r\n            }\r\n            if (!exclude) {\r\n                return arrAllHave;\r\n            }\r\n            else {\r\n                return arrDiffHave;\r\n            }\r\n        }\r\n        Tools.array_ExcludeArrays = array_ExcludeArrays;\r\n        let Point;\r\n        (function (Point) {\r\n            function dotRotatePoint(x0, y0, x1, y1, angle) {\r\n                let x2 = x0 + (x1 - x0) * Math.cos(angle * Math.PI / 180) - (y1 - y0) * Math.sin(angle * Math.PI / 180);\r\n                let y2 = y0 + (x1 - x0) * Math.sin(angle * Math.PI / 180) + (y1 - y0) * Math.cos(angle * Math.PI / 180);\r\n                return new Laya.Point(x2, y2);\r\n            }\r\n            Point.dotRotatePoint = dotRotatePoint;\r\n            function SpeedXYByAngle(angle, speed) {\r\n                if (angle % 90 === 0 || !angle) {\r\n                }\r\n                const speedXY = { x: 0, y: 0 };\r\n                speedXY.x = speed * Math.cos(angle * Math.PI / 180);\r\n                speedXY.y = speed * Math.sin(angle * Math.PI / 180);\r\n                return new Laya.Point(speedXY.x, speedXY.y);\r\n            }\r\n            Point.SpeedXYByAngle = SpeedXYByAngle;\r\n            function getRoundPos(angle, radius, centerPos) {\r\n                var center = centerPos;\r\n                var radius = radius;\r\n                var hudu = (2 * Math.PI / 360) * angle;\r\n                var X = center.x + Math.sin(hudu) * radius;\r\n                var Y = center.y - Math.cos(hudu) * radius;\r\n                return new Laya.Point(X, Y);\r\n            }\r\n            Point.getRoundPos = getRoundPos;\r\n            function randomPointByCenter(centerPos, radiusX, radiusY, count) {\r\n                if (!count) {\r\n                    count = 1;\r\n                }\r\n                let arr = [];\r\n                for (let index = 0; index < count; index++) {\r\n                    let x0 = Tools.randomCountNumer(0, radiusX, 1, false);\r\n                    let y0 = Tools.randomCountNumer(0, radiusY, 1, false);\r\n                    let diffX = Tools.randomOneHalf() == 0 ? x0[0] : -x0[0];\r\n                    let diffY = Tools.randomOneHalf() == 0 ? y0[0] : -y0[0];\r\n                    let p = new Laya.Point(centerPos.x + diffX, centerPos.y + diffY);\r\n                    arr.push(p);\r\n                }\r\n                return arr;\r\n            }\r\n            Point.randomPointByCenter = randomPointByCenter;\r\n            function getPArrBetweenTwoP(p1, p2, num) {\r\n                let arr = [];\r\n                let x0 = p2.x - p1.x;\r\n                let y0 = p2.y - p1.y;\r\n                for (let index = 0; index < num; index++) {\r\n                    arr.push(new Laya.Point(p1.x + (x0 / num) * index, p1.y + (y0 / num) * index));\r\n                }\r\n                if (arr.length >= 1) {\r\n                    arr.unshift();\r\n                }\r\n                if (arr.length >= 1) {\r\n                    arr.pop();\r\n                }\r\n                return arr;\r\n            }\r\n            Point.getPArrBetweenTwoP = getPArrBetweenTwoP;\r\n        })(Point = Tools.Point || (Tools.Point = {}));\r\n        function angle_GetRad(angle) {\r\n            return angle / 180 * Math.PI;\r\n        }\r\n        Tools.angle_GetRad = angle_GetRad;\r\n        function jsonCompare(url, storageName, propertyName) {\r\n            let dataArr;\r\n            try {\r\n                Laya.LocalStorage.getJSON(storageName);\r\n            }\r\n            catch (error) {\r\n                dataArr = Laya.loader.getRes(url)['RECORDS'];\r\n                Laya.LocalStorage.setJSON(storageName, JSON.stringify(dataArr));\r\n                return dataArr;\r\n            }\r\n            if (Laya.LocalStorage.getJSON(storageName)) {\r\n                dataArr = JSON.parse(Laya.LocalStorage.getJSON(storageName));\r\n                console.log(storageName + '从本地缓存中获取到数据,将和文件夹的json文件进行对比');\r\n                try {\r\n                    let dataArr_0 = Laya.loader.getRes(url)['RECORDS'];\r\n                    if (dataArr_0.length >= dataArr.length) {\r\n                        let diffArray = Tools.objArr2DifferentPropertyObjArr1(dataArr_0, dataArr, propertyName);\r\n                        console.log('两个数据的差值为：', diffArray);\r\n                        Tools.arrayAddToarray(dataArr, diffArray);\r\n                    }\r\n                    else {\r\n                        console.log(storageName + '数据表填写有误，长度不能小于之前的长度');\r\n                    }\r\n                }\r\n                catch (error) {\r\n                    console.log(storageName, '数据赋值失败！请检查数据表或者手动赋值！');\r\n                }\r\n            }\r\n            else {\r\n                try {\r\n                    dataArr = Laya.loader.getRes(url)['RECORDS'];\r\n                }\r\n                catch (error) {\r\n                    console.log(storageName + '数据赋值失败！请检查数据表或者手动赋值！');\r\n                }\r\n            }\r\n            Laya.LocalStorage.setJSON(storageName, JSON.stringify(dataArr));\r\n            return dataArr;\r\n        }\r\n        Tools.jsonCompare = jsonCompare;\r\n    })(Tools = lwg.Tools || (lwg.Tools = {}));\r\n    let LwgPreLoad;\r\n    (function (LwgPreLoad) {\r\n        let _scene3D = [];\r\n        let _prefab3D = [];\r\n        let _mesh3D = [];\r\n        let _material = [];\r\n        let _texture = [];\r\n        let _texture2D = [];\r\n        let _pic2D = [];\r\n        let _scene2D = [];\r\n        let _prefab2D = [];\r\n        let _json = [];\r\n        let _skeleton = [];\r\n        LwgPreLoad._sumProgress = 0;\r\n        LwgPreLoad._loadOrder = [];\r\n        LwgPreLoad._loadOrderIndex = 0;\r\n        LwgPreLoad._loadType = Admin._SceneName.PreLoad;\r\n        let _ListName;\r\n        (function (_ListName) {\r\n            _ListName[\"scene3D\"] = \"scene3D\";\r\n            _ListName[\"prefab3D\"] = \"prefab3D\";\r\n            _ListName[\"mesh3D\"] = \"mesh3D\";\r\n            _ListName[\"material\"] = \"material\";\r\n            _ListName[\"texture\"] = \"texture\";\r\n            _ListName[\"texture2D\"] = \"texture2D\";\r\n            _ListName[\"pic2D\"] = \"pic2D\";\r\n            _ListName[\"scene2D\"] = \"scene2D\";\r\n            _ListName[\"prefab2D\"] = \"prefab2D\";\r\n            _ListName[\"json\"] = \"json\";\r\n            _ListName[\"skeleton\"] = \"skeleton\";\r\n        })(_ListName = LwgPreLoad._ListName || (LwgPreLoad._ListName = {}));\r\n        LwgPreLoad._currentProgress = {\r\n            get value() {\r\n                return this['len'] ? this['len'] : 0;\r\n            },\r\n            set value(val) {\r\n                this['len'] = val;\r\n                if (this['len'] >= LwgPreLoad._sumProgress) {\r\n                    if (LwgPreLoad._sumProgress == 0) {\r\n                        return;\r\n                    }\r\n                    console.log('当前进度条进度为:', LwgPreLoad._currentProgress.value / LwgPreLoad._sumProgress);\r\n                    console.log('所有资源加载完成！此时所有资源可通过例如 Laya.loader.getRes(\"url\")获取');\r\n                    EventAdmin._notify(LwgPreLoad._Event.complete);\r\n                }\r\n                else {\r\n                    let number = 0;\r\n                    for (let index = 0; index <= LwgPreLoad._loadOrderIndex; index++) {\r\n                        number += LwgPreLoad._loadOrder[index].length;\r\n                    }\r\n                    if (this['len'] == number) {\r\n                        LwgPreLoad._loadOrderIndex++;\r\n                    }\r\n                    EventAdmin._notify(LwgPreLoad._Event.startLoding);\r\n                }\r\n            },\r\n        };\r\n        let _Event;\r\n        (function (_Event) {\r\n            _Event[\"importList\"] = \"_PreLoad_importList\";\r\n            _Event[\"complete\"] = \"_PreLoad_complete\";\r\n            _Event[\"startLoding\"] = \"_PreLoad_startLoding\";\r\n            _Event[\"progress\"] = \"_PreLoad_progress\";\r\n        })(_Event = LwgPreLoad._Event || (LwgPreLoad._Event = {}));\r\n        function _remakeLode() {\r\n            _scene3D = [];\r\n            _prefab3D = [];\r\n            _mesh3D = [];\r\n            _material = [];\r\n            _texture2D = [];\r\n            _pic2D = [];\r\n            _scene2D = [];\r\n            _prefab2D = [];\r\n            _json = [];\r\n            _skeleton = [];\r\n            LwgPreLoad._loadOrder = [];\r\n            LwgPreLoad._sumProgress = 0;\r\n            LwgPreLoad._loadOrderIndex = 0;\r\n            LwgPreLoad._currentProgress.value = 0;\r\n        }\r\n        LwgPreLoad._remakeLode = _remakeLode;\r\n        class _PreLoadScene extends Admin._SceneBase {\r\n            moduleOnAwake() {\r\n                LwgPreLoad._remakeLode();\r\n            }\r\n            lwgStartLoding(any) {\r\n                EventAdmin._notify(LwgPreLoad._Event.importList, (any));\r\n            }\r\n            moduleEventRegister() {\r\n                EventAdmin._register(_Event.importList, this, (listObj) => {\r\n                    for (const key in listObj) {\r\n                        if (Object.prototype.hasOwnProperty.call(listObj, key)) {\r\n                            for (const key1 in listObj[key]) {\r\n                                if (Object.prototype.hasOwnProperty.call(listObj[key], key1)) {\r\n                                    const element = listObj[key][key1];\r\n                                    switch (key) {\r\n                                        case _ListName.json:\r\n                                            _json.push(element);\r\n                                            break;\r\n                                        case _ListName.material:\r\n                                            _material.push(element);\r\n                                            break;\r\n                                        case _ListName.mesh3D:\r\n                                            _mesh3D.push(element);\r\n                                            break;\r\n                                        case _ListName.pic2D:\r\n                                            _pic2D.push(element);\r\n                                            break;\r\n                                        case _ListName.prefab2D:\r\n                                            _prefab2D.push(element);\r\n                                            break;\r\n                                        case _ListName.prefab3D:\r\n                                            _prefab3D.push(element);\r\n                                            break;\r\n                                        case _ListName.scene2D:\r\n                                            _scene2D.push(element);\r\n                                            break;\r\n                                        case _ListName.scene3D:\r\n                                            _scene3D.push(element);\r\n                                            break;\r\n                                        case _ListName.texture2D:\r\n                                            _texture2D.push(element);\r\n                                            break;\r\n                                        case _ListName.skeleton:\r\n                                            _skeleton.push(element);\r\n                                            break;\r\n                                        case _ListName.texture:\r\n                                            _texture.push(element);\r\n                                            break;\r\n                                        default:\r\n                                            break;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    LwgPreLoad._loadOrder = [_pic2D, _scene2D, _prefab2D, _scene3D, _prefab3D, _json, _texture, _texture2D, _mesh3D, _material, _skeleton];\r\n                    for (let index = 0; index < LwgPreLoad._loadOrder.length; index++) {\r\n                        LwgPreLoad._sumProgress += LwgPreLoad._loadOrder[index].length;\r\n                        if (LwgPreLoad._loadOrder[index].length <= 0) {\r\n                            LwgPreLoad._loadOrder.splice(index, 1);\r\n                            index--;\r\n                        }\r\n                    }\r\n                    let time = this.lwgOpenAni();\r\n                    if (time == null) {\r\n                        time = 0;\r\n                    }\r\n                    Laya.timer.once(time, this, () => {\r\n                        EventAdmin._notify(LwgPreLoad._Event.startLoding);\r\n                    });\r\n                });\r\n                EventAdmin._register(_Event.startLoding, this, () => { this.startLodingRule(); });\r\n                EventAdmin._register(_Event.complete, this, () => {\r\n                    let time = this.lwgAllComplete();\r\n                    Laya.timer.once(time, this, () => {\r\n                        this._Owner.name = LwgPreLoad._loadType;\r\n                        Admin._sceneControl[LwgPreLoad._loadType] = this._Owner;\r\n                        if (LwgPreLoad._loadType !== Admin._SceneName.PreLoad) {\r\n                            if (Admin._preLoadOpenSceneLater.openName) {\r\n                                Admin._openScene(Admin._preLoadOpenSceneLater.openName, Admin._preLoadOpenSceneLater.cloesName, () => {\r\n                                    Admin._preLoadOpenSceneLater.func;\r\n                                    Admin._closeScene(LwgPreLoad._loadType);\r\n                                }, Admin._preLoadOpenSceneLater.zOrder);\r\n                            }\r\n                        }\r\n                        else {\r\n                            for (const key in Admin._moudel) {\r\n                                if (Object.prototype.hasOwnProperty.call(Admin._moudel, key)) {\r\n                                    const element = Admin._moudel[key];\r\n                                    if (element['_init']) {\r\n                                        element['_init']();\r\n                                    }\r\n                                    else {\r\n                                        console.log(element, '模块没有初始化函数！');\r\n                                    }\r\n                                }\r\n                            }\r\n                            PalyAudio.playMusic();\r\n                            this._openScene(_SceneName.Guide, true, () => {\r\n                                LwgPreLoad._loadType = Admin._SceneName.PreLoadStep;\r\n                            });\r\n                        }\r\n                    });\r\n                });\r\n                EventAdmin._register(_Event.progress, this, () => {\r\n                    LwgPreLoad._currentProgress.value++;\r\n                    if (LwgPreLoad._currentProgress.value < LwgPreLoad._sumProgress) {\r\n                        console.log('当前进度条进度为:', LwgPreLoad._currentProgress.value / LwgPreLoad._sumProgress);\r\n                        this.lwgStepComplete();\r\n                    }\r\n                });\r\n            }\r\n            moduleOnEnable() {\r\n                LwgPreLoad._loadOrderIndex = 0;\r\n            }\r\n            startLodingRule() {\r\n                if (LwgPreLoad._loadOrder.length <= 0) {\r\n                    console.log('没有加载项');\r\n                    EventAdmin._notify(LwgPreLoad._Event.complete);\r\n                    return;\r\n                }\r\n                let alreadyPro = 0;\r\n                for (let i = 0; i < LwgPreLoad._loadOrderIndex; i++) {\r\n                    alreadyPro += LwgPreLoad._loadOrder[i].length;\r\n                }\r\n                let index = LwgPreLoad._currentProgress.value - alreadyPro;\r\n                switch (LwgPreLoad._loadOrder[LwgPreLoad._loadOrderIndex]) {\r\n                    case _pic2D:\r\n                        Laya.loader.load(_pic2D[index], Laya.Handler.create(this, (any) => {\r\n                            if (any == null) {\r\n                                console.log('XXXXXXXXXXX2D资源' + _pic2D[index] + '加载失败！不会停止加载进程！', '数组下标为：', index, 'XXXXXXXXXXX');\r\n                            }\r\n                            else {\r\n                                console.log('2D图片' + _pic2D[index] + '加载完成！', '数组下标为：', index);\r\n                            }\r\n                            EventAdmin._notify(_Event.progress);\r\n                        }));\r\n                        break;\r\n                    case _scene2D:\r\n                        Laya.loader.load(_scene2D[index], Laya.Handler.create(this, (any) => {\r\n                            if (any == null) {\r\n                                console.log('XXXXXXXXXXX数据表' + _scene2D[index] + '加载失败！不会停止加载进程！', '数组下标为：', index, 'XXXXXXXXXXX');\r\n                            }\r\n                            else {\r\n                                console.log('2D场景' + _scene2D[index] + '加载完成！', '数组下标为：', index);\r\n                            }\r\n                            EventAdmin._notify(_Event.progress);\r\n                        }), null, Laya.Loader.JSON);\r\n                        break;\r\n                    case _scene3D:\r\n                        Laya.Scene3D.load(_scene3D[index]['url'], Laya.Handler.create(this, (Scene) => {\r\n                            if (Scene == null) {\r\n                                console.log('XXXXXXXXXXX3D场景' + _scene3D[index]['url'] + '加载失败！不会停止加载进程！', '数组下标为：', index, 'XXXXXXXXXXX');\r\n                            }\r\n                            else {\r\n                                _scene3D[index]['Scene'] = Scene;\r\n                                console.log('3D场景' + _scene3D[index]['url'] + '加载完成！', '数组下标为：', index);\r\n                            }\r\n                            EventAdmin._notify(_Event.progress);\r\n                        }));\r\n                        break;\r\n                    case _prefab3D:\r\n                        Laya.Sprite3D.load(_prefab3D[index]['url'], Laya.Handler.create(this, (Sp) => {\r\n                            if (Sp == null) {\r\n                                console.log('XXXXXXXXXXX3D预设体' + _prefab3D[index]['url'] + '加载失败！不会停止加载进程！', '数组下标为：', index, 'XXXXXXXXXXX');\r\n                            }\r\n                            else {\r\n                                _prefab3D[index]['Prefab'] = Sp;\r\n                                console.log('3D预制体' + _prefab3D[index]['url'] + '加载完成！', '数组下标为：', index);\r\n                            }\r\n                            EventAdmin._notify(_Event.progress);\r\n                        }));\r\n                        break;\r\n                    case _mesh3D:\r\n                        Laya.Mesh.load(_mesh3D[index]['url'], Laya.Handler.create(this, (any) => {\r\n                            if (any == null) {\r\n                                console.log('XXXXXXXXXXX3D网格' + _mesh3D[index]['url'] + '加载失败！不会停止加载进程！', '数组下标为：', index, 'XXXXXXXXXXX');\r\n                            }\r\n                            else {\r\n                                console.log('3D网格' + _mesh3D[index]['url'] + '加载完成！', '数组下标为：', index);\r\n                            }\r\n                            EventAdmin._notify(_Event.progress);\r\n                        }));\r\n                        break;\r\n                    case _texture:\r\n                        Laya.loader.load(_texture[index]['url'], Laya.Handler.create(this, (tex) => {\r\n                            if (tex == null) {\r\n                                console.log('XXXXXXXXXXX2D纹理' + _texture[index]['url'] + '加载失败！不会停止加载进程！', '数组下标为：', index, 'XXXXXXXXXXX');\r\n                            }\r\n                            else {\r\n                                _texture[index]['texture'] = tex;\r\n                                console.log('纹理' + _texture[index]['url'] + '加载完成！', '数组下标为：', index);\r\n                            }\r\n                            EventAdmin._notify(_Event.progress);\r\n                        }));\r\n                        break;\r\n                    case _texture2D:\r\n                        Laya.Texture2D.load(_texture2D[index]['url'], Laya.Handler.create(this, (tex) => {\r\n                            if (tex == null) {\r\n                                console.log('XXXXXXXXXXX2D纹理' + _texture2D[index]['url'] + '加载失败！不会停止加载进程！', '数组下标为：', index, 'XXXXXXXXXXX');\r\n                            }\r\n                            else {\r\n                                _texture2D[index]['texture2D'] = tex;\r\n                                console.log('2D纹理' + _texture2D[index]['url'] + '加载完成！', '数组下标为：', index);\r\n                            }\r\n                            EventAdmin._notify(_Event.progress);\r\n                        }));\r\n                        break;\r\n                    case _material:\r\n                        Laya.Material.load(_material[index]['url'], Laya.Handler.create(this, (any) => {\r\n                            if (any == null) {\r\n                                console.log('XXXXXXXXXXX材质' + _material[index]['url'] + '加载失败！不会停止加载进程！', '数组下标为：', index, 'XXXXXXXXXXX');\r\n                            }\r\n                            else {\r\n                                console.log('材质' + _material[index]['url'] + '加载完成！', '数组下标为：', index);\r\n                            }\r\n                            EventAdmin._notify(_Event.progress);\r\n                        }));\r\n                        break;\r\n                    case _json:\r\n                        Laya.loader.load(_json[index]['url'], Laya.Handler.create(this, (data) => {\r\n                            if (data == null) {\r\n                                console.log('XXXXXXXXXXX数据表' + _json[index] + '加载失败！不会停止加载进程！', '数组下标为：', index, 'XXXXXXXXXXX');\r\n                            }\r\n                            else {\r\n                                _json[index]['data'] = data[\"RECORDS\"];\r\n                                console.log('数据表' + _json[index]['url'] + '加载完成！', '数组下标为：', index);\r\n                            }\r\n                            EventAdmin._notify(_Event.progress);\r\n                        }), null, Laya.Loader.JSON);\r\n                        break;\r\n                    case _skeleton:\r\n                        _skeleton[index]['templet'].on(Laya.Event.ERROR, this, () => {\r\n                            console.log('XXXXXXXXXXX骨骼动画' + _skeleton[index] + '加载失败！不会停止加载进程！', '数组下标为：', index, 'XXXXXXXXXXX');\r\n                            EventAdmin._notify(_Event.progress);\r\n                        });\r\n                        _skeleton[index]['templet'].on(Laya.Event.COMPLETE, this, () => {\r\n                            console.log('骨骼动画', _skeleton[index]['templet']['url'], '加载完成！', '数组下标为：', index);\r\n                            EventAdmin._notify(_Event.progress);\r\n                        });\r\n                        _skeleton[index]['templet'].loadAni(_skeleton[index]['url']);\r\n                        break;\r\n                    case _prefab2D:\r\n                        Laya.loader.load(_prefab2D[index]['url'], Laya.Handler.create(this, (prefab) => {\r\n                            if (prefab == null) {\r\n                                console.log('XXXXXXXXXXX数据表' + _prefab2D[index]['url'] + '加载失败！不会停止加载进程！', '数组下标为：', index, 'XXXXXXXXXXX');\r\n                            }\r\n                            else {\r\n                                let _prefab = new Laya.Prefab();\r\n                                _prefab.json = prefab;\r\n                                _prefab2D[index]['prefab'] = _prefab;\r\n                                console.log('2D预制体' + _prefab2D[index]['url'] + '加载完成！', '数组下标为：', index);\r\n                            }\r\n                            EventAdmin._notify(_Event.progress);\r\n                        }));\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n            lwgStepComplete() { }\r\n            lwgAllComplete() { return 0; }\r\n            ;\r\n        }\r\n        LwgPreLoad._PreLoadScene = _PreLoadScene;\r\n    })(LwgPreLoad = lwg.LwgPreLoad || (lwg.LwgPreLoad = {}));\r\n    let _LwgInit;\r\n    (function (_LwgInit) {\r\n        _LwgInit._pkgStep = 0;\r\n        _LwgInit._pkgInfo = [\r\n            { name: \"sp1\", root: \"res\" },\r\n            { name: \"sp2\", root: \"3DScene\" },\r\n            { name: \"sp3\", root: \"3DPrefab\" },\r\n        ];\r\n        let _Event;\r\n        (function (_Event) {\r\n            _Event[\"start\"] = \"_ResPrepare_start\";\r\n            _Event[\"nextStep\"] = \"_ResPrepare_nextStep\";\r\n            _Event[\"compelet\"] = \"_ResPrepare_compelet\";\r\n        })(_Event = _LwgInit._Event || (_LwgInit._Event = {}));\r\n        function _init() {\r\n            switch (Admin._platform.ues) {\r\n                case Admin._platform.tpye.WeChat:\r\n                    _loadPkg_Wechat();\r\n                    break;\r\n                case Admin._platform.tpye.OPPO || Admin._platform.tpye.VIVO:\r\n                    _loadPkg_VIVO();\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n        }\r\n        _LwgInit._init = _init;\r\n        function _loadPkg_VIVO() {\r\n            if (_LwgInit._pkgStep !== _LwgInit._pkgInfo.length) {\r\n                let info = _LwgInit._pkgInfo[_LwgInit._pkgStep];\r\n                let name = info.name;\r\n                Laya.Browser.window.qg.loadSubpackage({\r\n                    name: name,\r\n                    success: (res) => {\r\n                        _LwgInit._pkgStep++;\r\n                        _loadPkg_VIVO();\r\n                    },\r\n                    fail: (res) => {\r\n                        console.error(`load ${name} err: `, res);\r\n                    },\r\n                });\r\n            }\r\n        }\r\n        _LwgInit._loadPkg_VIVO = _loadPkg_VIVO;\r\n        function _loadPkg_Wechat() {\r\n            if (_LwgInit._pkgStep !== _LwgInit._pkgInfo.length) {\r\n                let info = _LwgInit._pkgInfo[_LwgInit._pkgStep];\r\n                let name = info.name;\r\n                let root = info.root;\r\n                Laya.Browser.window.wx.loadSubpackage({\r\n                    name: name,\r\n                    success: (res) => {\r\n                        console.log(`load ${name} suc`);\r\n                        Laya.MiniAdpter.subNativeFiles[name] = root;\r\n                        Laya.MiniAdpter.nativefiles.push(root);\r\n                        _LwgInit._pkgStep++;\r\n                        console.log(\"加载次数\", _LwgInit._pkgStep);\r\n                        _loadPkg_Wechat();\r\n                    },\r\n                    fail: (res) => {\r\n                        console.error(`load ${name} err: `, res);\r\n                    },\r\n                });\r\n            }\r\n        }\r\n        _LwgInit._loadPkg_Wechat = _loadPkg_Wechat;\r\n        class _LwgInitScene extends Admin._SceneBase {\r\n            moduleOnStart() {\r\n                _init();\r\n                this._openScene(_SceneName.PreLoad, null, () => {\r\n                });\r\n            }\r\n            ;\r\n        }\r\n        _LwgInit._LwgInitScene = _LwgInitScene;\r\n    })(_LwgInit = lwg._LwgInit || (lwg._LwgInit = {}));\r\n})(lwg || (lwg = {}));\r\nexport default lwg;\r\nexport let Admin = lwg.Admin;\r\nexport let _SceneBase = Admin._SceneBase;\r\nexport let _ObjectBase = Admin._ObjectBase;\r\nexport let DataAdmin = lwg.DataAdmin;\r\nexport let _SceneName = Admin._SceneName;\r\nexport let EventAdmin = lwg.EventAdmin;\r\nexport let DateAdmin = lwg.DateAdmin;\r\nexport let TimerAdmin = lwg.TimerAdmin;\r\nexport let Pause = lwg.Pause;\r\nexport let Execution = lwg.Execution;\r\nexport let _Gold = lwg.Gold;\r\nexport let Setting = lwg.Setting;\r\nexport let PalyAudio = lwg.PalyAudio;\r\nexport let Click = lwg.Click;\r\nexport let Color = lwg.Color;\r\nexport let Effects = lwg.Effects;\r\nexport let Dialogue = lwg.Dialogue;\r\nexport let Animation2D = lwg.Animation2D;\r\nexport let Animation3D = lwg.Animation3D;\r\nexport let Tools = lwg.Tools;\r\nexport let _LwgPreLoad = lwg.LwgPreLoad;\r\nexport let _PreLoadScene = lwg.LwgPreLoad._PreLoadScene;\r\nexport let _LwgInit = lwg._LwgInit;\r\nexport let _LwgInitScene = lwg._LwgInit._LwgInitScene;\r\n",
  "references": [
    "D:/Game/project/3DDressUp/Project_Laya2.9.0/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/GameConfig.ts"
  ]
}
