{
  "code": "import { TimerAdmin, Tools } from \"./Lwg\";\r\nimport { _Res } from \"./_PreLoad\";\r\nexport var _3D;\r\n(function (_3D) {\r\n    let _AniName;\r\n    (function (_AniName) {\r\n        _AniName[\"Stand\"] = \"Stand\";\r\n        _AniName[\"Poss1\"] = \"Poss1\";\r\n        _AniName[\"Poss2\"] = \"Poss2\";\r\n        _AniName[\"DispalyCloth\"] = \"DispalyCloth\";\r\n        _AniName[\"Walk\"] = \"Walk\";\r\n    })(_AniName = _3D._AniName || (_3D._AniName = {}));\r\n    class _Scene {\r\n        static _ins() {\r\n            if (!this.ins) {\r\n                this.ins = new _Scene();\r\n                this.ins._Owner = _Res._list.scene3D.MakeClothes.Scene;\r\n                Laya.stage.addChild(this.ins._Owner);\r\n                this.ins._Role = this.ins._Owner.getChildByName('Role');\r\n                this.ins._RoleFPos = new Laya.Vector3(this.ins._Role.transform.position.x, this.ins._Role.transform.position.y, this.ins._Role.transform.position.z);\r\n                this.ins._Root = this.ins._Role.getChildByName('Root');\r\n                this.ins._DIY = this.ins._Root.getChildByName('DIY');\r\n                this.ins._General = this.ins._Root.getChildByName('General');\r\n                this.ins._DBottoms = this.ins._DIY.getChildByName('Bottoms');\r\n                this.ins._DTop = this.ins._DIY.getChildByName('Top');\r\n                this.ins._DDress = this.ins._DIY.getChildByName('Dress');\r\n                this.ins._GBottoms = this.ins._General.getChildByName('Bottoms');\r\n                this.ins._GTop = this.ins._General.getChildByName('Top');\r\n                this.ins._GDress = this.ins._General.getChildByName('Dress');\r\n                this.ins._RoleAni = this.ins._Role.getComponent(Laya.Animator);\r\n                this.ins._MainCamara = this.ins._Owner.getChildByName('Main Camera');\r\n                this.ins._MirrorCamera = this.ins._Owner.getChildByName('MirrorCamera');\r\n                this.ins._Mirror = this.ins._Owner.getChildByName('Mirror');\r\n                this.ins._Bg1 = this.ins._Owner.getChildByName('Bg1');\r\n                this.ins._Bg2 = this.ins._Owner.getChildByName('Bg2');\r\n                this.ins._BtnDress = this.ins._Owner.getChildByName('BtnDress');\r\n                this.ins._BtnTop = this.ins._Owner.getChildByName('BtnTop');\r\n                this.ins._BtnBottoms = this.ins._Owner.getChildByName('BtnBottoms');\r\n                this.ins._BtnDressingRoom = this.ins._Owner.getChildByName('BtnDressingRoom');\r\n            }\r\n            return this.ins;\r\n        }\r\n        playDispalyAni() {\r\n            this._RoleAni.play(_AniName.Stand);\r\n            this._RoleAni.play(_AniName.DispalyCloth);\r\n            Laya.timer.clearAll(this._Role);\r\n            TimerAdmin._once(3200, this._Role, () => {\r\n                this._RoleAni.crossFade(_AniName.Stand, 0.3);\r\n            });\r\n        }\r\n        get btnDressPos() {\r\n            return Tools._3D.posToScreen(this._BtnDress.transform.position, this._MainCamara);\r\n        }\r\n        get btnTopPos() {\r\n            return Tools._3D.posToScreen(this._BtnTop.transform.position, this._MainCamara);\r\n        }\r\n        get btnBottomsPos() {\r\n            return Tools._3D.posToScreen(this._BtnBottoms.transform.position, this._MainCamara);\r\n        }\r\n        get btnDressingRoomPos() {\r\n            return Tools._3D.posToScreen(this._BtnDressingRoom.transform.position, this._MainCamara);\r\n        }\r\n        openStartAni(func) {\r\n            this._RoleAni.play(_AniName.Walk);\r\n            const dis = Tools._Number.randomOneHalf() == 0 ? -3 : 3;\r\n            const time = 180;\r\n            const rotate = dis == 3 ? 90 : -90;\r\n            this._Role.transform.position = new Laya.Vector3(this._RoleFPos.x + dis, this._RoleFPos.y, this._RoleFPos.z);\r\n            this._Role.transform.localRotationEuler = new Laya.Vector3(0, this._Role.transform.localRotationEuler.y + rotate, 0);\r\n            TimerAdmin._frameNumLoop(1, time, this, () => {\r\n                this._Role.transform.position = new Laya.Vector3(this._Role.transform.position.x - dis / time, this._Role.transform.position.y, this._Role.transform.position.z);\r\n            }, () => {\r\n                this._RoleAni.crossFade(_AniName.DispalyCloth, 0.3);\r\n                TimerAdmin._frameNumLoop(1, 90, this, () => {\r\n                    const speed = rotate > 0 ? 1 : -1;\r\n                    this._Role.transform.localRotationEuler = new Laya.Vector3(0, this._Role.transform.localRotationEuler.y -= speed, 0);\r\n                });\r\n            });\r\n        }\r\n        changeStartBg() {\r\n            this._Bg1.meshRenderer.material.albedoTexture = _Res._list.texture2D.bgStart.texture2D;\r\n        }\r\n        changeDressingRoomBg() {\r\n            this._Bg1.meshRenderer.material.albedoTexture = _Res._list.texture2D.bgDressingRoom.texture2D;\r\n        }\r\n        createMirror(_Sp) {\r\n            this._MirrorCamera.renderTarget = new Laya.RenderTexture(_Sp.width, _Sp.height);\r\n            this._MirrorCamera.renderingOrder = -1;\r\n            this._MirrorCamera.clearFlag = Laya.CameraClearFlags.Sky;\r\n            this.mirrortex && this.mirrortex.destroy();\r\n            this.mirrortex = new Laya.Texture(this._MirrorCamera.renderTarget, Laya.Texture.DEF_UV);\r\n            _Sp.graphics.drawTexture(this.mirrortex);\r\n        }\r\n    }\r\n    _3D._Scene = _Scene;\r\n})(_3D || (_3D = {}));\r\n",
  "references": [
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/Lwg.ts",
    "D:/Game/project/3DDressUp/Copy/3DDressUp_Laya2.9.0/3DDressUp_Laya2.9.0/src/script/Lwg/_PreLoad.ts"
  ]
}
